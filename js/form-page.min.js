function normalKeycodes(t){return 8===t.keyCode||9===t.keyCode||16===t.keyCode||17===t.keyCode||18===t.keyCode||46===t.keyCode||t.keyCode>=35&&t.keyCode<=40||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||32===t.keyCode||189===t.keyCode||190===t.keyCode||173===t.keyCode?!0:!1}function attachEvents(t){t.focus(function(){$(this).parent().addClass("focus")}),t.blur(function(){$(this).parent().removeClass("focus")}),t.keyup(function(){""===$(this).val()?$(this).parent().removeClass("filled"):$(this).parent().addClass("filled")}),t.parent().hasClass("select")&&t.change(function(){""!==$(this).val()?$(this).parent().addClass("filled"):$(this).parent().removeClass("filled")}),"checkbox"!==t.attr("type")&&""!==t.val()&&t.parent().addClass("filled valid")}function makeValid(t){t.addClass("valid").removeClass("invalid error")}function makeInvalid(t,e){t.addClass("invalid").removeClass("valid"),e&&t.addClass("invalid error")}function scrollUpIfNeeded(t){window.scrollY>t.offset().top&&$("html, body").animate({scrollTop:t.offset().top-70},300)}function saveSectionHeights(t){t.each(function(){var t=$(this),e=t.children("div").height()+90;isMobile&&(e-=50),t.data("height",e)})}function nextSection(t,e){if(t.hasClass("results")){calculateApproved();var i='<span class="cta-form-buttons-item-text-icon gear"></span>',n='<span class="cta-form-buttons-item-text-hidden">Calculating</span>';$$(".cta-form-buttons-item.calculate").addClass("active").children(".cta-form-buttons-item-text").html(i+n),setTimeout(function(){hideSection(t.prev()),$$(".cta-skip").velocity({opacity:0},{duration:250})},400),setTimeout(function(){$$(".cta-form-buttons-item-text-icon").velocity({translateX:-75},{duration:500,easing:"easeInOutCirc"}),setTimeout(function(){$$(".cta-form-buttons-item-text-hidden").velocity({opacity:1},{duration:300}),$$(".cta-form-buttons-item-text-icon").velocity({rotateZ:720},{duration:2700,easing:"linear"})},500),setTimeout(function(){$$(".cta-form-buttons-item-text-icon").velocity("stop"),setTimeout(function(){showSection(t),setTimeout(function(){$$(".cta-form-buttons-item.webform").addClass("apply").removeClass("active calculate").children(".cta-form-buttons-item-text").html("Apply Online")},500),setTimeout(function(){$$(".button.next").velocity({width:"50%"},{duration:800,easing:"easeInOutCirc"})},1400)},500)},3200)},1800)}if(e){var a=0,r=!0;if("apply"===e)var o="call";if("call"===e)var o="apply";"apply-skipped_to"!==e&&"call-skipped_to"!==e&&($$(".button."+e).velocity("stop").velocity({width:"100%"},{duration:800,easing:"easeInOutCirc"}),$$(".button."+o).velocity("stop").velocity({width:"0%"},{duration:800,easing:"easeInOutCirc"}),a=1e3,r=!1),setTimeout(function(){var i=$$(".step.show");hideSection(i),setTimeout(function(){showSection(t),r&&$$(".cta-skip").velocity({opacity:0},{duration:250}),("apply"===e||"apply-skipped_to"===e)&&setTimeout(function(){$$(".cta-form-buttons-item.webform").removeClass("apply calculate").children(".cta-form-buttons-item-text").html("Next Step (Owner Info)"),$this.addClass("ready")},500),("call"===e||"call-skipped_to"===e)&&setTimeout(function(){$$(".cta-form-buttons-item.callform").removeClass("next").addClass("submit").children(".cta-form-buttons-item-text").html("Submit Call Request"),$this.addClass("ready")},500),"call-skipped_to"===e&&($$(".button.calculate").velocity({width:"0%"},{duration:800,easing:"easeInOutCirc"}),$$(".button.call").velocity({width:"100%"},{duration:800,easing:"easeInOutCirc"}))},1400)},a)}e||t.hasClass("results")||(hideSection(t.prev()),setTimeout(function(){showSection(t),t.hasClass("final")&&setTimeout(function(){$$(".cta-form-buttons-item.webform").removeClass("next calculate").addClass("submit").children(".cta-form-buttons-item-text").html("Submit Application")},500)},1400))}function showSection(t){t.velocity({height:t.data("height")},{duration:1100,easing:"easeInOutQuint"}).addClass("show")}function hideSection(t){scrollUpIfNeeded(t),t.velocity({height:0},{duration:1100,easing:"easeInOutQuint"}).removeClass("show")}function appendStateList(){$window.one("scroll",function(){$.getJSON("js/_parts-form/state.json","",function(t){var e=[];$.each(t,function(t,i){e.push('<option value="'+t+'">'+i+"</option>")}),$$(".fieldset.state").find("select").append(e)})})}function appendCountryList(){$window.one("scroll",function(){$.getJSON("js/_parts-form/country.json","",function(t){var e=[];$.each(t,function(t,i){e.push('<option value="'+t+'">'+i+"</option>")}),$$(".fieldset.country").find("select").append(e)})})}function updateTermsName(){var t=$$("#firstname").val(),e=$$("#lastname").val(),i=" "+t+" "+e+", ";""!==t&&""!==e?$$(".cta-form-terms-name").html(i):$$(".cta-form-terms-name").html("")}function calculateApproved(){var t=parseInt($$(".cta-form-fieldset-range.sales").find(".noUi-handle").children("div").html()),e=1e3*Math.round(1.2*t),i=addCommas(e),n,a=$$(".fieldset.credit_score").find(".checked").find("input").attr("val");"0-499"===a&&(n=1),"500-640"===a&&(n=2),"650+"===a&&(n=3),$$(".results").find(".cta-form-fieldset-radio").slice(0,n).addClass("checked"),$$(".results-approved-amount-number").html(i)}function addCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function checkOn(t){t.addClass("checked"),t.find(".input").prop("checked",!0)}function checkOff(t){t.removeClass("checked"),t.find(".input").prop("checked",!1)}function inputMasking(){var t=function(){makeValid($(this).parents(".fieldset"))},e=function(){makeInvalid($(this).parents(".fieldset"))},i={oncomplete:t,onincomplete:e};$$(".fieldset.zip").find("input").inputmask("99999",i),$$(".fieldset.date").find("input").inputmask("mm/dd/yyyy",i),$$("input.phone").inputmask("(999)-999-9999",i),$$('input[name="ssn"], input[name="partner_ssn"]').inputmask("999-99-9999",i),$$('input[name="ownership"], input[name="partner_ownership"]').inputmask({mask:"99[9]%",greedy:!1,oncomplete:t,onincomplete:e}),$$('input[name="tax_id"]').inputmask("99-9999999",i),$$('input[name="call_time"]').inputmask("hh:mm t",i)}var proceed,problem,$required,$currentStep,$previousStep,$lastField,formHasExternalButtons=!0,multiStep;$.fn.form=function(t,e){$this=this,multiStep=$this.find(".step").length>1;var i=!1,n=$$(".partner").height();$$(".partner").height(0),$this.formPrepare(),$this.on("click",".next",function(){$(this).hasClass("call")&&$this.formNext("call"),$(this).hasClass("apply")&&$this.formNext("apply"),$(this).hasClass("call")||$(this).hasClass("apply")||$this.formNext()}),$this.on("click",".back",function(){$this.formBack()}),$this.on("click",".submit",function(){$(this).hasClass("callform")&&$this.formSubmit("callform"),$(this).hasClass("webform")&&$this.formSubmit("webform")}),$$(".fieldset.additional_partners").children(".input-button").first().on("click",function(){i=!0,$$(".partner").velocity("stop").velocity({height:n},{duration:1100,easing:"easeInOutQuint"}),$$(".step.final").velocity("stop").velocity({height:$$(".step.final").data("height")+n},{duration:1100,easing:"easeInOutQuint"}),$$(".partner").find(".fieldset").each(function(){$(this).addClass("required").removeClass("valid")})}),$$(".fieldset.additional_partners").children(".input-button").last().on("click",function(){i&&($$(".partner").velocity("stop").velocity({height:0},{duration:1100,easing:"easeInOutQuint"}),$$(".step.final").velocity("stop").velocity({height:$$(".step.final").data("height")},{duration:1100,easing:"easeInOutQuint"}),$$(".partner").find(".fieldset").each(function(){$(this).removeClass("required error").addClass("valid")}))}),$$("#firstname, #lastname").on("change keyup",function(){updateTermsName()}),$$("#skip-to-app").on("click",function(){nextSection($$(".step.apply"),"apply-skipped_to"),$$("#skipped").val("true")}),$$("#skip-to-call").on("click",function(){nextSection($$(".step.call"),"call-skipped_to"),$$("#skipped").val("true")}),multiStep&&$window.on("resize",function(){window.innerWidth<=920&&saveSectionHeights($this.find(".step"))})},$.fn.formPrepare=function(){var t=this;multiStep&&(saveSectionHeights(t.find(".step")),t.find(".step").first().addClass("show").each(function(){var t=$(this);t.height(t.data("height"))})),t.find(".fieldset").not(".radio, .checkbox").each(function(){$.fn.formPrepare.inputField($(this))}),t.find(".fieldset.checkbox").each(function(){$.fn.formPrepare.checkboxField($(this))}),t.find(".fieldset.radio").each(function(){$(this).hasClass("disabled")||$.fn.formPrepare.radioField($(this))}),t.find(".fieldset.range").each(function(){$.fn.formPrepare.rangeField($(this))}),t.find(".phone, .zip, .cardnumber, .cardcvc, .carddate").each(function(){$.fn.formPrepare.numberField($(this))}),t.find(".email").each(function(){$.fn.formPrepare.emailField($(this))}),t.find(".step").each(function(){$lastField=$(this).find(".fieldset").not(".checkbox").last(),$lastField.on("keydown",function(t){9===t.keyCode&&t.preventDefault()})}),t.find(".input").each(function(){attachEvents($(this))}),t.find(".state").length&&appendStateList(),t.find(".country").length&&appendCountryList()},$.fn.formValidate=function(){var t=this;proceed=!1,problem=!1,$required=t.find(".step.show").find(".fieldset.required"),$required.each(function(){var t=$(this);t.hasClass("valid")?t.removeClass("error"):(problem=!0,t.addClass("error"),t[0]===$required.first()[0]&&scrollUpIfNeeded(t))}),proceed=problem?!1:!0},$.fn.formValidateCalcStep=function(){var t=$$("#cta");proceed=!1,problem=!1,$required=t.find(".step.show").find(".fieldset.required"),$required.each(function(){var t=$(this);t.hasClass("valid")||(problem=!0)}),problem?(proceed=!1,t.removeClass("ready")):(proceed=!0,t.addClass("ready"))},$.fn.formNext=function(t){var e=this;if($currentStep=e.find(".step.show"),e.formValidate(),proceed){var i=$currentStep.next();"apply"===t&&(i=$currentStep.next().next()),nextSection(i,t)}},$.fn.formBack=function(){var t=this;$currentStep=t.find(".step.show"),$previousStep=$currentStep.prev(),nextSection($previousStep),scrollUpIfNeeded($previousStep)},$.fn.formSubmit=function(t){function e(t){var e='<span class="cta-form-buttons-item-text-icon gear"></span>',n='<span class="cta-form-buttons-item-text-hidden">Submitting</span>',a=$$(".step.final");"callform"===t&&(a=$$(".step.call")),$$(".cta-form-buttons-item."+t).addClass("active").children(".cta-form-buttons-item-text").html(e+n),setTimeout(function(){hideSection(a)},400),setTimeout(function(){$$(".cta-form-buttons-item-text-icon").velocity({translateX:-75},{duration:500,easing:"easeInOutCirc"}),setTimeout(function(){$$(".cta-form-buttons-item-text-hidden").velocity({opacity:1},{duration:300}),$$(".cta-form-buttons-item-text-icon").velocity({rotateZ:720},{duration:2700,easing:"linear"})},500);var e=i.serialize();$.post("/"+t,e,function(e){setTimeout(function(){e.success?($$(".cta-form-buttons-item-text-icon").velocity("stop"),setTimeout(function(){$$(".cta-form-buttons-item-text-hidden").html("Success!"),setTimeout(function(){showSection(i.find(".step.success")),setTimeout(function(){$$(".icon-success").addClass("animate").find(".tip").addClass("animateSuccessTip").siblings(".long").addClass("animateSuccessLong"),$$(".cta-form-buttons-item-text").html("Thank You!"),$(".button."+t).addClass("complete").removeClass("submit active")},700)},400)},500)):($$(".cta-form-buttons-item-text-icon").velocity("stop"),$$(".cta-form-buttons-item-text").html("Field error! Please validate your input."),$.each(e.errorFields,function(t,e){log(e+" "+t),$$("#"+e).parents(".fieldset").addClass("error")}),showSection(i.find(".step.success").prev()))},500)},"json")},1800)}var i=this;if(i.formValidate(),proceed&&("true"===$$("#skipped").val()&&$$(".step.calc").remove(),"callform"===t&&($$(".step.apply, .step.final, .step.calc").remove(),e("callform")),"webform"===t)){$$(".step.call, .step.calc").remove();var n=$$("#signature-pad").jSignature("getData"),a=$$("#signature-pad").jSignature("getData","image");$$("#signature-data").val(n),$$("#signature-img").val(a);var r=new Date,o=r.getMonth()+1+"-"+r.getDate()+"-"+r.getFullYear();$$("#signature-date").val(o),e("webform")}},$.fn.formPrepare.inputField=function(t){t.hasClass("required")?t.find(".input").not(".phone, .email, .cardcvc, .carddate").on("change keydown",function(){""===$(this).val()||null===$(this).val()?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}):t.addClass("valid")},$.fn.formPrepare.emailField=function(t){t.on("change keydown",function(){var t=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);""!==$(this).val()&&t.test($(this).val())?makeValid($(this).parents(".fieldset")):makeInvalid($(this).parents(".fieldset"))})},$.fn.formPrepare.checkboxField=function(t){t.find(".input-button").click(function(){var t=$(this);t.hasClass("checked")?(checkOff(t),t.hasClass("checked")||t.siblings().hasClass("checked")?makeValid(t.parents(".fieldset")):makeInvalid(t.parents(".fieldset"))):(checkOn(t),makeValid(t.parents(".fieldset")))}),t.find("label").click(function(){$this.parent().trigger("click")})},$.fn.formPrepare.radioField=function(t){t.find(".input-button").click(function(){var t=$(this);t.hasClass("checked")||(checkOn(t),checkOff(t.siblings()),makeValid(t.parents(".fieldset")))}),t.find("label").click(function(){$this.parent().trigger("click")})},$.fn.formPrepare.rangeField=function(t){if(t.hasClass("volume"))var e=5e4,i=1e3,n=15e4;if(t.hasClass("sales"))var e=32e4,i=1e4,n=95e4;var a=t.children(".cta-form-fieldset-range");a.noUiSlider({start:[e],step:i,range:{min:[0],max:[n]},format:wNumb({decimals:0,thousand:","})}),a.Link("lower").to("-inline-"),$(".noUi-handle").on("mousedown touchstart",function(){var t=$(this);$window.one("mousemove",function(){isDragging=!0,t.find("div").trigger("modified")}),$window.on("mouseup",function(){isDragging&&(isDragging=!1,$window.off("mousemove"),$window.off("mouseup"))})}),$(".noUi-base").on("mousedown touchstart",function(t){$(t.target).hasClass("noUi-handle")||$(this).find(".noUi-handle div").trigger("modified")}),$(".noUi-handle div").on("modified",function(){var t=$(this),e=t.parents(".fieldset");makeValid(e);var i=parseInt(t.html());if(e.hasClass("volume"))var n=29,a=118;if(e.hasClass("sales"))var n=200,a=740;n>i&&e.addClass("hide_start"),i>n&&e.removeClass("hide_start"),i>a&&e.addClass("hide_end"),a>i&&e.removeClass("hide_end"),e.find("input").val(1e3*i)})},$.fn.formPrepare.numberField=function(t){t.keydown(function(t){t.ctrlKey||t.metaKey||normalKeycodes(t)||t.preventDefault()}),t.hasClass("phone")&&t.change(function(){""===$(this).val()||$(this).val().length<7?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}),t.hasClass("cardcvc")&&t.change(function(){""===$(this).val()||$(this).val().length<3?makeInvalid($(this).parents(".fieldset")):makeValid($(this).parents(".fieldset"))}),t.hasClass("carddate")&&t.on("keydown keypress",function(t){var e=8===t.keyCode,i=9===t.keyCode,n=t.key;t.ctrlKey||t.metaKey||(!normalKeycodes(t)||t.keyCode>=48&&t.keyCode<=57)&&t.preventDefault(),mobile&&((48===t.keyCode||96===t.keyCode)&&(n=0),(49===t.keyCode||97===t.keyCode)&&(n=1),(50===t.keyCode||98===t.keyCode)&&(n=2),(51===t.keyCode||99===t.keyCode)&&(n=3),(52===t.keyCode||100===t.keyCode)&&(n=4),(53===t.keyCode||101===t.keyCode)&&(n=5),(54===t.keyCode||102===t.keyCode)&&(n=6),(55===t.keyCode||103===t.keyCode)&&(n=7),(56===t.keyCode||104===t.keyCode)&&(n=8),(57===t.keyCode||105===t.keyCode)&&(n=9));var a=$(this),r=a.val(),o=r.length;e?o>=3&&5>=o&&(r=r.substr(0,2)):(7>=o&&!isNaN(n)&&(0===o&&1>=n&&(r+=n),0===o&&n>1&&(r=r+"0"+n),1===o&&9>=n&&("0"===r.substr(0,1)?r+=n:2>=n&&(r+=n)),2===o&&(r=r+" / "+n),3===o&&(r=r+"/ "+n),4===o&&(r=r+" "+n),(5===o||6===o)&&(r+=n),o=r.length),o>=7?makeValid($(this).parents(".fieldset")):makeInvalid($(this).parents(".fieldset"))),a.val(r)})},!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function i(t){var e="text"==t||"tel"==t;if(!e){var i=document.createElement("input");i.setAttribute("type",t),e="text"===i.type,i=null}return e}function n(e,i,a){var r=a.aliases[e];return r?(r.alias&&n(r.alias,void 0,a),t.extend(!0,a,r),t.extend(!0,a,i),!0):!1}function a(e){function i(i){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function a(i,n,a){var r=e.definitions[n],o=0==i.matches.length;if(a=void 0!=a?a:i.matches.length,r&&!h){r.placeholder=t.isFunction(r.placeholder)?r.placeholder.call(this,e):r.placeholder;for(var s=r.prevalidator,l=s?s.length:0,u=1;u<r.cardinality;u++){var c=l>=u?s[u-1]:[],d=c.validator,f=c.cardinality;i.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:i.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n})}i.matches.splice(a++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:i.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n})}else i.matches.splice(a++,0,{fn:null,cardinality:0,optionality:i.isOptional,newBlockMarker:o,casing:null,def:n,placeholder:void 0,mask:n}),h=!1}for(var r,o,s,l,u,c,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,h=!1,f=new n,p=[],m=[];r=d.exec(i);)switch(o=r[0],o.charAt(0)){case e.optionalmarker.end:case e.groupmarker.end:if(s=p.pop(),p.length>0){if(l=p[p.length-1],l.matches.push(s),l.isAlternator){u=p.pop();for(var v=0;v<u.matches.length;v++)u.matches[v].isGroup=!1;p.length>0?(l=p[p.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.push(s);break;case e.optionalmarker.start:p.push(new n(!1,!0));break;case e.groupmarker.start:p.push(new n(!0));break;case e.quantifiermarker.start:var g=new n(!1,!1,!0);o=o.replace(/[{}]/g,"");var y=o.split(","),k=isNaN(y[0])?y[0]:parseInt(y[0]),b=1==y.length?k:isNaN(y[1])?y[1]:parseInt(y[1]);if(("*"==b||"+"==b)&&(k="*"==b?0:1),g.quantifier={min:k,max:b},p.length>0){var x=p[p.length-1].matches;if(r=x.pop(),!r.isGroup){var w=new n(!0);w.matches.push(r),r=w}x.push(r),x.push(g)}else{if(r=f.matches.pop(),!r.isGroup){var w=new n(!0);w.matches.push(r),r=w}f.matches.push(r),f.matches.push(g)}break;case e.escapeChar:h=!0;break;case e.alternatormarker:p.length>0?(l=p[p.length-1],c=l.matches.pop()):c=f.matches.pop(),c.isAlternator?p.push(c):(u=new n(!1,!1,!1,!0),u.matches.push(c),p.push(u));break;default:if(p.length>0){if(l=p[p.length-1],l.matches.length>0&&(c=l.matches[l.matches.length-1],c.isGroup&&(c.isGroup=!1,a(c,e.groupmarker.start,0),a(c,e.groupmarker.end))),a(l,o),l.isAlternator){u=p.pop();for(var v=0;v<u.matches.length;v++)u.matches[v].isGroup=!1;p.length>0?(l=p[p.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.length>0&&(c=f.matches[f.matches.length-1],c.isGroup&&(c.isGroup=!1,a(c,e.groupmarker.start,0),a(c,e.groupmarker.end))),a(f,o)}return f.matches.length>0&&(c=f.matches[f.matches.length-1],c.isGroup&&(c.isGroup=!1,a(c,e.groupmarker.start,0),a(c,e.groupmarker.end)),m.push(f)),m}function n(n,a){if(void 0==n||""==n)return void 0;if(1==n.length&&0==e.greedy&&0!=e.repeat&&(e.placeholder=""),e.repeat>0||"*"==e.repeat||"+"==e.repeat){var r="*"==e.repeat?0:"+"==e.repeat?1:e.repeat;n=e.groupmarker.start+n+e.groupmarker.end+e.quantifiermarker.start+r+","+e.repeat+e.quantifiermarker.end}return void 0==t.inputmask.masksCache[n]&&(t.inputmask.masksCache[n]={mask:n,maskToken:i(n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a}),t.extend(!0,{},t.inputmask.masksCache[n])}function a(t){if(t=t.toString(),e.numericInput){t=t.split("").reverse();for(var i=0;i<t.length;i++)t[i]==e.optionalmarker.start?t[i]=e.optionalmarker.end:t[i]==e.optionalmarker.end?t[i]=e.optionalmarker.start:t[i]==e.groupmarker.start?t[i]=e.groupmarker.end:t[i]==e.groupmarker.end&&(t[i]=e.groupmarker.start);t=t.join("")}return t}var r=void 0;if(t.isFunction(e.mask)&&(e.mask=e.mask.call(this,e)),t.isArray(e.mask)){if(e.mask.length>1){e.keepStatic=void 0==e.keepStatic?!0:e.keepStatic;var o="(";return t.each(e.mask,function(e,i){o.length>1&&(o+=")|("),o+=a(void 0==i.mask||t.isFunction(i.mask)?i:i.mask)}),o+=")",n(o,e.mask)}e.mask=e.mask.pop()}return e.mask&&(r=void 0==e.mask.mask||t.isFunction(e.mask.mask)?n(a(e.mask),e.mask):n(a(e.mask.mask),e.mask)),r}function r(n,a,r){function o(t,e,i){e=e||0;var n,a,r,o=[],s=0;do{if(t===!0&&c().validPositions[s]){var l=c().validPositions[s];a=l.match,n=l.locator.slice(),o.push(i===!0?l.input:F(s,a))}else{if(e>s){var u=y(s,n,s-1);r=u[0]}else r=m(s,n,s-1);a=r.match,n=r.locator.slice(),o.push(F(s,a))}s++}while((void 0==nt||nt>s-1)&&null!=a.fn||null==a.fn&&""!=a.def||e>=s);return o.pop(),o}function c(){return a}function d(t){var e=c();e.buffer=void 0,e.tests={},t!==!0&&(e._buffer=void 0,e.validPositions={},e.p=0)}function h(t){var e=c(),i=-1,n=e.validPositions;void 0==t&&(t=-1);var a=i,r=i;for(var o in n){var s=parseInt(o);(-1==t||null!=n[s].match.fn)&&(t>=s&&(a=s),s>=t&&(r=s))}return i=-1!=a&&t-a>1||t>r?a:r}function f(e,i,n){if(r.insertMode&&void 0!=c().validPositions[e]&&void 0==n){var a,o=t.extend(!0,{},c().validPositions),s=h();for(a=e;s>=a;a++)delete c().validPositions[a];c().validPositions[e]=i;var l,u=!0;for(a=e;s>=a;a++){var d=o[a];if(void 0!=d){var f=c().validPositions;l=!r.keepStatic&&f[a]&&(void 0!=f[a+1]&&y(a+1,f[a].locator.slice(),a).length>1||void 0!=f[a].alternation)?a+1:M(a),u=g(l,d.match.def)?u&&S(l,d.input,!0,!0)!==!1:null==d.match.fn}if(!u)break}if(!u)return c().validPositions=t.extend(!0,{},o),!1}else c().validPositions[e]=i;return!0}function p(t,e,i){var n,a,o=t;for(void 0!=c().validPositions[t]&&c().validPositions[t].input==r.radixPoint&&(e++,o++),n=o;e>n;n++)void 0!=c().validPositions[n]&&(i===!0||0!=r.canClearPosition(c(),n,h(),r))&&delete c().validPositions[n];for(d(!0),n=o+1;n<=h();){for(;void 0!=(a=c().validPositions[o]);)o++;o>n&&(n=o+1);var s=c().validPositions[n];void 0!=s&&void 0==a?(g(o,s.match.def)&&S(o,s.input,!0)!==!1&&(delete c().validPositions[n],n++),o++):n++}var l=h();l>=t&&void 0!=c().validPositions[l]&&c().validPositions[l].input==r.radixPoint&&delete c().validPositions[l],d(!0)}function m(t,e,i){for(var n,a=y(t,e,i),o=h(),s=c().validPositions[o]||y(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].split(","):[],u=0;u<a.length&&(n=a[u],!(n.match&&(r.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0==s.alternation||void 0!=n.locator[s.alternation]&&C(n.locator[s.alternation].toString().split(","),l))));u++);return n}function v(t){return c().validPositions[t]?c().validPositions[t].match:y(t)[0].match}function g(t,e){for(var i=!1,n=y(t),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def==e){i=!0;break}return i}function y(e,i,n){function a(i,n,r,s){function d(r,s,f){if(o>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c().mask),!0;if(o==e&&void 0==r.matches)return l.push({match:r,locator:s.reverse()}),!0;if(void 0!=r.matches){if(r.isGroup&&f!==!0){if(r=d(i.matches[h+1],s))return!0}else if(r.isOptional){var p=r;if(r=a(r,n,s,f)){var m=l[l.length-1].match,v=0==t.inArray(m,p.matches);v&&(u=!0),o=e}}else if(r.isAlternator){var g,y=r,k=[],b=l.slice(),x=s.length,w=n.length>0?n.shift():-1;if(-1==w||"string"==typeof w){var C,S=o,P=n.slice();"string"==typeof w&&(C=w.split(","));for(var _=0;_<y.matches.length;_++){l=[],r=d(y.matches[_],[_].concat(s),f)||r,g=l.slice(),o=S,l=[];for(var M=0;M<P.length;M++)n[M]=P[M];for(var E=0;E<g.length;E++)for(var T=g[E],A=0;A<k.length;A++){var F=k[A];if(T.match.mask==F.match.mask&&("string"!=typeof w||-1!=t.inArray(T.locator[x].toString(),C))){g.splice(E,1),F.locator[x]=F.locator[x]+","+T.locator[x],F.alternation=x;break}}k=k.concat(g)}"string"==typeof w&&(k=t.map(k,function(e,i){if(isFinite(i)){var n,a=e.locator[x].toString().split(",");e.locator[x]=void 0,e.alternation=void 0;for(var r=0;r<a.length;r++)n=-1!=t.inArray(a[r],C),n&&(void 0!=e.locator[x]?(e.locator[x]+=",",e.alternation=x,e.locator[x]+=a[r]):e.locator[x]=parseInt(a[r]));if(void 0!=e.locator[x])return e}})),l=b.concat(k),u=!0}else r=d(y.matches[w],[w].concat(s),f);if(r)return!0}else if(r.isQuantifier&&f!==!0)for(var I=r,O=n.length>0&&f!==!0?n.shift():0;O<(isNaN(I.quantifier.max)?O+1:I.quantifier.max)&&e>=o;O++){var j=i.matches[t.inArray(I,i.matches)-1];if(r=d(j,[O].concat(s),!0)){var m=l[l.length-1].match;m.optionalQuantifier=O>I.quantifier.min-1;var v=0==t.inArray(m,j.matches);if(v){if(O>I.quantifier.min-1){u=!0,o=e;break}return!0}return!0}}else if(r=a(r,n,s,f))return!0}else o++}for(var h=n.length>0?n.shift():0;h<i.matches.length;h++)if(i.matches[h].isQuantifier!==!0){var f=d(i.matches[h],[h].concat(r),s);if(f&&o==e)return f;if(o>e)break}}var r=c().maskToken,o=i?n:0,s=i||[0],l=[],u=!1;if(void 0==i){for(var d,h=e-1;void 0==(d=c().validPositions[h])&&h>-1;)h--;if(void 0!=d&&h>-1)o=h,s=d.locator.slice();else{for(h=e-1;void 0==(d=c().tests[h])&&h>-1;)h--;void 0!=d&&h>-1&&(o=h,s=d[0].locator.slice())}}for(var f=s.shift();f<r.length;f++){var p=a(r[f],s,[f]);if(p&&o==e||o>e)break}return(0==l.length||u)&&l.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),c().tests[e]=t.extend(!0,[],l),c().tests[e]}function k(){return void 0==c()._buffer&&(c()._buffer=o(!1,1)),c()._buffer}function b(){return void 0==c().buffer&&(c().buffer=o(!0,h(),!0)),c().buffer}function x(t,e,i){if(i=i||b().slice(),t===!0)d(),t=0,e=i.length;else for(var n=t;e>n;n++)delete c().validPositions[n],delete c().tests[n];for(var n=t;e>n;n++)i[n]!=r.skipOptionalPartCharacter&&S(n,i[n],!0,!0)}function w(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function C(e,i){for(var n=r.greedy?i:i.slice(0,1),a=!1,o=0;o<e.length;o++)if(-1!=t.inArray(e[o],n)){a=!0;break}return a}function S(e,i,n,a){function o(e,i,n,a){var o=!1;return t.each(y(e),function(s,l){for(var u=l.match,m=i?1:0,v="",g=(b(),u.cardinality);g>m;g--)v+=T(e-(g-1));if(i&&(v+=i),o=null!=u.fn?u.fn.test(v,c(),e,n,r):i!=u.def&&i!=r.skipOptionalPartCharacter||""==u.def?!1:{c:u.def,pos:e},o!==!1){var y=void 0!=o.c?o.c:i;y=y==r.skipOptionalPartCharacter&&null===u.fn?u.def:y;var k=e;if(void 0!=o.remove&&p(o.remove,o.remove+1,!0),o.refreshFromBuffer){var C=o.refreshFromBuffer;if(n=!0,x(C===!0?C:C.start,C.end),void 0==o.pos&&void 0==o.c)return o.pos=h(),!1;if(k=void 0!=o.pos?o.pos:e,k!=e)return o=t.extend(o,S(k,y,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=e&&(k=o.pos,x(e,k),k!=e))return o=t.extend(o,S(k,y,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&d(!0),f(k,t.extend({},l,{input:w(y,u)}),a)||(o=!1),!1)}}),o}function s(e,i,n,a){var o,s,l=t.extend(!0,{},c().validPositions);for(o=h();o>=0;o--)if(c().validPositions[o]&&void 0!=c().validPositions[o].alternation){s=c().validPositions[o].alternation;break}if(void 0!=s)for(var u in c().validPositions)if(parseInt(u)>parseInt(o)&&void 0===c().validPositions[u].alternation){for(var f=c().validPositions[u],p=f.locator[s],m=c().validPositions[o].locator[s].split(","),v=0;v<m.length;v++)if(p<m[v]){for(var g,y,k=u-1;k>=0;k--)if(g=c().validPositions[k],void 0!=g){y=g.locator[s],g.locator[s]=m[v];break}if(p!=g.locator[s]){for(var x=b().slice(),w=u;w<h()+1;w++)delete c().validPositions[w],delete c().tests[w];d(!0),r.keepStatic=!r.keepStatic;for(var w=u;w<x.length;w++)x[w]!=r.skipOptionalPartCharacter&&S(h()+1,x[w],!1,!0);g.locator[s]=y;var C=S(e,i,n,a);if(r.keepStatic=!r.keepStatic,C)return C;d(),c().validPositions=t.extend(!0,{},l)}}break}return!1}function l(e,i){for(var n=c().validPositions[i],a=n.locator,r=a.length,o=e;i>o;o++)if(!P(o)){var s=y(o),l=s[0],u=-1;t.each(s,function(t,e){for(var i=0;r>i;i++)e.locator[i]&&C(e.locator[i].toString().split(","),a[i].toString().split(","))&&i>u&&(u=i,l=e)}),f(o,t.extend({},l,{input:l.match.def}),!0)}}n=n===!0;for(var u=b(),m=e-1;m>-1&&!c().validPositions[m];m--);for(m++;e>m;m++)void 0==c().validPositions[m]&&((!P(m)||u[m]!=F(m))&&y(m).length>1||u[m]==r.radixPoint||"0"==u[m]&&t.inArray(r.radixPoint,u)<m)&&o(m,u[m],!0);var v=e,g=!1;if(a&&v>=_()&&d(!0),v<_()&&(g=o(v,i,n,a),!n&&g===!1)){var k=c().validPositions[v];if(!k||null!=k.match.fn||k.match.def!=i&&i!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==c().validPositions[M(v)])&&!P(v))for(var E=v+1,A=M(v);A>=E;E++)if(g=o(E,i,n,a),g!==!1){l(v,E),v=E;break}}else g={caret:M(v)}}return g===!1&&r.keepStatic&&R(u)&&(g=s(e,i,n,a)),g===!0&&(g={pos:v}),g}function P(t){var e=v(t);return null!=e.fn?e.fn:!1}function _(){var t;nt=it.prop("maxLength"),-1==nt&&(nt=void 0);var e,i=h(),n=c().validPositions[i],a=void 0!=n?n.locator.slice():void 0;for(e=i+1;void 0==n||null!=n.match.fn||null==n.match.fn&&""!=n.match.def;e++)n=m(e,a,e-1),a=n.locator.slice();return t=e,void 0==nt||nt>t?t:nt}function M(t){var e=_();if(t>=e)return e;for(var i=t;++i<e&&!P(i)&&(r.nojumps!==!0||r.nojumpsThreshold>i););return i}function E(t){var e=t;if(0>=e)return 0;for(;--e>0&&!P(e););return e}function T(t){return void 0==c().validPositions[t]?F(t):c().validPositions[t].input}function A(e,i,n,a,o){if(a&&t.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite.call(e,a,i,n,r);if(s&&s.refreshFromBuffer){var l=s.refreshFromBuffer;x(l===!0?l:l.start,l.end,s.buffer),d(!0),n=s.caret||n}}e._valueSet(i.join("")),void 0!=n&&U(e,n),o===!0&&(ot=!0,t(e).trigger("input"))}function F(t,e){return e=e||v(t),void 0!=e.placeholder?e.placeholder:null==e.fn?e.def:r.placeholder.charAt(t%r.placeholder.length)}function I(e,i,n,a){function r(){var t=!1,e=k().slice(f,M(f)).join("").indexOf(u);if(-1!=e&&!P(f)){t=!0;for(var i=k().slice(f,f+e),n=0;n<i.length;n++)if(" "!=i[n]){t=!1;break}}return t}var o=void 0!=a?a.slice():e._valueGet().split("");d(),c().p=M(-1),i&&e._valueSet("");var s=k().slice(0,M(-1)).join(""),l=o.join("").match(new RegExp(O(s),"g"));l&&l.length>0&&o.splice(0,s.length*l.length);var u="",f=0;t.each(o,function(i,a){var o=t.Event("keypress");o.which=a.charCodeAt(0),u+=a;var s=h(),l=c().validPositions[s],d=m(s+1,l?l.locator.slice():void 0,s);if(!r()||n){var p=n?i:null==d.match.fn&&d.match.optionality&&s+1<c().p?s+1:c().p;z.call(e,o,!0,!1,n,p),f=p+1,u=""}else z.call(e,o,!0,!1,!0,s+1)}),i&&A(e,b(),t(e).is(":focus")?M(h(0)):void 0,t.Event("checkval"))}function O(e){return t.inputmask.escapeRegex.call(this,e)}function j(e){if(e.data("_inputmask")&&!e.hasClass("hasDatepicker")){var i=[],n=c().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var o=(at?i.reverse():i).join(""),s=(at?b().slice().reverse():b()).join("");return t.isFunction(r.onUnMask)&&(o=r.onUnMask.call(e,s,o,r)||o),o}return e[0]._valueGet()}function D(t){if(at&&"number"==typeof t&&(!r.greedy||""!=r.placeholder)){var e=b().length;t=e-t}return t}function U(e,i,n){var a,o=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof i)return o.setSelectionRange?(i=o.selectionStart,n=o.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),i=0-a.duplicate().moveStart("character",-1e5),n=i+a.text.length),{begin:D(i),end:D(n)};if(i=D(i),n=D(n),n="number"==typeof n?n:i,t(o).is(":visible")){var s=t(o).css("font-size").replace("px","")*n;o.scrollLeft=s>o.scrollWidth?s:0,0==r.insertMode&&i==n&&n++,o.setSelectionRange?(o.selectionStart=i,o.selectionEnd=n):o.createTextRange&&(a=o.createTextRange(),a.collapse(!0),a.moveEnd("character",n),
a.moveStart("character",i),a.select())}}function N(e){var i,n,a=b(),r=a.length,o=h(),s={},l=c().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(i=o+1;i<a.length;i++)n=m(i,u,i-1),u=n.locator.slice(),s[i]=t.extend(!0,{},n);var d=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(i=r-1;i>o&&(n=s[i].match,(n.optionality||n.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=s[i].locator[l.alternation]&&-1!=t.inArray(s[i].locator[l.alternation].toString(),d))&&a[i]==F(i,n));i--)r--;return e?{l:r,def:s[r]?s[r].match:void 0}:r}function L(t){for(var e=N(),i=t.length-1;i>e&&!P(i);i--);t.splice(e,i+1-e)}function R(e){if(t.isFunction(r.isComplete))return r.isComplete.call(it,e,r);if("*"==r.repeat)return void 0;var i=!1,n=N(!0),a=E(n.l),o=h();if(o==a&&(void 0==n.def||n.def.newBlockMarker||n.def.optionalQuantifier)){i=!0;for(var s=0;a>=s;s++){var l=P(s);if(l&&(void 0==e[s]||e[s]==F(s))||!l&&e[s]!=F(s)){i=!1;break}}}return i}function V(t,e){return at?t-e>1||t-e==1&&r.insertMode:e-t>1||e-t==1&&r.insertMode}function G(e){var i=t._data(e).events;t.each(i,function(e,i){t.each(i,function(t,e){if("inputmask"==e.namespace&&"setvalue"!=e.type){var i=e.handler;e.handler=function(t){if(!this.disabled&&(!this.readOnly||"keydown"==t.type&&t.ctrlKey&&67==t.keyCode)){switch(t.type){case"input":if(ot===!0)return ot=!1,t.preventDefault();break;case"keydown":rt=!1;break;case"keypress":if(rt===!0)return t.preventDefault();rt=!0;break;case"compositionstart":break;case"compositionupdate":ot=!0;break;case"compositionend":}return i.apply(this,arguments)}t.preventDefault()}}})})}function B(e){function i(e){if(void 0==t.valHooks[e]||1!=t.valHooks[e].inputmaskpatch){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(e){var n=t(e);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(e),r=n.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",a!=s?a:""}return i(e)},set:function(e,i){var a,r=t(e),o=r.data("_inputmask");return o?(a=n(e,t.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(ft,i,o.opts)||i:i),r.triggerHandler("setvalue.inputmask")):a=n(e,i),a},inputmaskpatch:!0}}}function n(){var e=t(this),i=t(this).data("_inputmask");return i?i.opts.autoUnmask?e.inputmask("unmaskedvalue"):s.call(this)!=k().join("")?s.call(this):"":s.call(this)}function a(e){var i=t(this).data("_inputmask");i?(l.call(this,t.isFunction(i.opts.onBeforeMask)?i.opts.onBeforeMask.call(ft,e,i.opts)||e:e),t(this).triggerHandler("setvalue.inputmask")):l.call(this,e)}function o(e){t(e).bind("mouseenter.inputmask",function(){var e=t(this),i=this,n=i._valueGet();""!=n&&n!=b().join("")&&(this._valueSet(t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(ft,n,r)||n:n),e.triggerHandler("setvalue.inputmask"))});var i=t._data(e).events,n=i.mouseover;if(n){for(var a=n[n.length-1],o=n.length-1;o>0;o--)n[o]=n[o-1];n[0]=a}}var s,l;e._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"value"),document.__lookupGetter__&&e.__lookupGetter__("value")?(s=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",n),e.__defineSetter__("value",a)):(s=function(){return e.value},l=function(t){e.value=t},i(e.type),o(e)),e._valueGet=function(t){return at&&t!==!0?s.call(this).split("").reverse().join(""):s.call(this)},e._valueSet=function(t){l.call(this,at?t.split("").reverse().join(""):t)})}function H(e,i,n){function a(){if(r.keepStatic){d(!0);var i,n=[];for(i=h();i>=0;i--)if(c().validPositions[i]){if(void 0!=c().validPositions[i].alternation)break;n.push(c().validPositions[i].input),delete c().validPositions[i]}if(i>0)for(;n.length>0;){c().p=M(h());var a=t.Event("keypress");a.which=n.pop().charCodeAt(0),z.call(e,a,!0,!1,!1,c().p)}}}if((r.numericInput||at)&&(i==t.inputmask.keyCode.BACKSPACE?i=t.inputmask.keyCode.DELETE:i==t.inputmask.keyCode.DELETE&&(i=t.inputmask.keyCode.BACKSPACE),at)){var o=n.end;n.end=n.begin,n.begin=o}i==t.inputmask.keyCode.BACKSPACE&&n.end-n.begin<=1?n.begin=E(n.begin):i==t.inputmask.keyCode.DELETE&&n.begin==n.end&&n.end++,p(n.begin,n.end),a();var s=h(n.begin);s<n.begin?(-1==s&&d(),c().p=M(s)):c().p=n.begin}function K(i){var n=this,a=t(n),o=i.keyCode,l=U(n);o==t.inputmask.keyCode.BACKSPACE||o==t.inputmask.keyCode.DELETE||s&&127==o||i.ctrlKey&&88==o&&!e("cut")?(i.preventDefault(),88==o&&(J=b().join("")),H(n,o,l),A(n,b(),c().p,i,J!=b().join("")),n._valueGet()==k().join("")&&a.trigger("cleared"),r.showTooltip&&a.prop("title",c().mask)):o==t.inputmask.keyCode.END||o==t.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var t=M(h());r.insertMode||t!=_()||i.shiftKey||t--,U(n,i.shiftKey?l.begin:t,t)},0):o==t.inputmask.keyCode.HOME&&!i.shiftKey||o==t.inputmask.keyCode.PAGE_UP?U(n,0,i.shiftKey?l.begin:0):r.undoOnEscape&&o==t.inputmask.keyCode.ESCAPE||90==o&&i.ctrlKey?(I(n,!0,!1,J.split("")),a.click()):o!=t.inputmask.keyCode.INSERT||i.shiftKey||i.ctrlKey?0!=r.insertMode||i.shiftKey||(o==t.inputmask.keyCode.RIGHT?setTimeout(function(){var t=U(n);U(n,t.begin)},0):o==t.inputmask.keyCode.LEFT&&setTimeout(function(){var t=U(n);U(n,at?t.begin+1:t.begin-1)},0)):(r.insertMode=!r.insertMode,U(n,r.insertMode||l.begin!=_()?l.begin:l.begin-1)),st=-1!=t.inArray(o,r.ignorables)}function z(e,i,n,a,o){var s=this,l=t(s),u=e.which||e.charCode||e.keyCode;if(!(i===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||st))return!0;if(u){46==u&&0==e.shiftKey&&","==r.radixPoint&&(u=44);var h,p=i?{begin:o,end:o}:U(s),m=String.fromCharCode(u),v=V(p.begin,p.end);v&&(c().undoPositions=t.extend(!0,{},c().validPositions),H(s,t.inputmask.keyCode.DELETE,p),r.insertMode||(r.insertMode=!r.insertMode,f(p.begin,a),r.insertMode=!r.insertMode),v=!r.multi),c().writeOutBuffer=!0;var g=at&&!v?p.end:p.begin,k=S(g,m,a);if(k!==!1){if(k!==!0&&(g=void 0!=k.pos?k.pos:g,m=void 0!=k.c?k.c:m),d(!0),void 0!=k.caret)h=k.caret;else{var w=c().validPositions;h=!r.keepStatic&&(void 0!=w[g+1]&&y(g+1,w[g].locator.slice(),g).length>1||void 0!=w[g].alternation)?g+1:M(g)}c().p=h}if(n!==!1){var C=this;if(setTimeout(function(){r.onKeyValidation.call(C,k,r)},0),c().writeOutBuffer&&k!==!1){var P=b();A(s,P,i?void 0:r.numericInput?E(h):h,e,i!==!0),i!==!0&&setTimeout(function(){R(P)===!0&&l.trigger("complete")},0)}else v&&(c().buffer=void 0,c().validPositions=c().undoPositions)}else v&&(c().buffer=void 0,c().validPositions=c().undoPositions);if(r.showTooltip&&l.prop("title",c().mask),i&&t.isFunction(r.onBeforeWrite)){var _=r.onBeforeWrite.call(this,e,b(),h,r);if(_&&_.refreshFromBuffer){var T=_.refreshFromBuffer;x(T===!0?T:T.start,T.end,_.buffer),d(!0),_.caret&&(c().p=_.caret)}}e.preventDefault()}}function W(e){var i=(t(this),e.keyCode,b());r.onKeyUp.call(this,e,i,r)}function q(e){var i=this,n=t(i),a=i._valueGet(!0),o=U(i);if("propertychange"==e.type&&i._valueGet().length<=_())return!0;if("paste"==e.type){var s=a.substr(0,o.begin),l=a.substr(o.end,a.length);s==k().slice(0,o.begin).join("")&&(s=""),l==k().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?a=s+window.clipboardData.getData("Text")+l:e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(a=s+e.originalEvent.clipboardData.getData("text/plain")+l)}var u=t.isFunction(r.onBeforePaste)?r.onBeforePaste.call(i,a,r)||a:a;return I(i,!0,!1,at?u.split("").reverse():u.split("")),n.click(),R(b())===!0&&n.trigger("complete"),!1}function Y(e){var i=this;I(i,!0,!1),R(b())===!0&&t(i).trigger("complete"),e.preventDefault()}function Q(t){var e=this;J=b().join(""),(""==et||0!=t.originalEvent.data.indexOf(et))&&(tt=U(e))}function X(e){var i=this,n=tt||U(i);0==e.originalEvent.data.indexOf(et)&&(d(),n={begin:0,end:0});var a=e.originalEvent.data;U(i,n.begin,n.end);for(var o=0;o<a.length;o++){var s=t.Event("keypress");s.which=a.charCodeAt(o),rt=!1,st=!1,z.call(i,s)}setTimeout(function(){var t=c().p;A(i,b(),r.numericInput?E(t):t)},0),et=e.originalEvent.data}function Z(){}function $(e){if(it=t(e),it.is(":input")&&i(it.attr("type"))){if(it.data("_inputmask",{maskset:a,opts:r,isRTL:!1}),r.showTooltip&&it.prop("title",c().mask),("rtl"==e.dir||r.rightAlign)&&it.css("text-align","right"),"rtl"==e.dir||r.numericInput){e.dir="ltr",it.removeAttr("dir");var n=it.data("_inputmask");n.isRTL=!0,it.data("_inputmask",n),at=!0}it.unbind(".inputmask"),it.closest("form").bind("submit",function(){J!=b().join("")&&it.change(),it[0]._valueGet&&it[0]._valueGet()==k().join("")&&it[0]._valueSet(""),r.removeMaskOnSubmit&&it.inputmask("remove")}).bind("reset",function(){setTimeout(function(){it.triggerHandler("setvalue.inputmask")},0)}),it.bind("mouseenter.inputmask",function(){var e=t(this),i=this;!e.is(":focus")&&r.showMaskOnHover&&i._valueGet()!=b().join("")&&A(i,b())}).bind("blur.inputmask",function(e){var i=t(this),n=this;if(i.data("_inputmask")){var a=n._valueGet(),o=b().slice();lt=!0,J!=o.join("")&&(i.change(),J=o.join("")),""!=a&&(r.clearMaskOnLostFocus&&(a==k().join("")?o=[]:L(o)),R(o)===!1&&(i.trigger("incomplete"),r.clearIncomplete&&(d(),o=r.clearMaskOnLostFocus?[]:k().slice())),A(n,o,void 0,e))}}).bind("focus.inputmask",function(){var e=(t(this),this),i=e._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""==i)&&e._valueGet()!=b().join("")&&A(e,b(),M(h())),J=b().join("")}).bind("mouseleave.inputmask",function(){var e=t(this),i=this;if(r.clearMaskOnLostFocus){var n=b().slice(),a=i._valueGet();e.is(":focus")||a==e.attr("placeholder")||""==a||(a==k().join("")?n=[]:L(n),A(i,n))}}).bind("click.inputmask",function(){var e=t(this),i=this;if(e.is(":focus")){var n=U(i);if(n.begin==n.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=t.inArray(r.radixPoint,b())&&(lt||b().join("")==k().join("")))U(i,t.inArray(r.radixPoint,b())),lt=!1;else{var a=at?D(n.begin):n.begin,o=M(h(a));o>a?U(i,P(a)?a:M(a)):U(i,o)}}}).bind("dblclick.inputmask",function(){var t=this;setTimeout(function(){U(t,0,M(h()))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",q).bind("setvalue.inputmask",function(){var t=this;I(t,!0,!1),J=b().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t._valueGet()==k().join("")&&t._valueSet("")}).bind("cut.inputmask",function(e){ot=!0;var i=this,n=t(i),a=U(i);H(i,t.inputmask.keyCode.DELETE,a),A(i,b(),c().p,e,J!=b().join("")),i._valueGet()==k().join("")&&n.trigger("cleared"),r.showTooltip&&n.prop("title",c().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),it.bind("keydown.inputmask",K).bind("keypress.inputmask",z).bind("keyup.inputmask",W),l||it.bind("compositionstart.inputmask",Q).bind("compositionupdate.inputmask",X).bind("compositionend.inputmask",Z),"paste"===u&&it.bind("input.inputmask",Y),B(e);var o=t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(e,e._valueGet(),r)||e._valueGet():e._valueGet();I(e,!0,!1,o.split(""));var s=b().slice();J=s.join("");var f;try{f=document.activeElement}catch(p){}R(s)===!1&&r.clearIncomplete&&d(),r.clearMaskOnLostFocus&&(s.join("")==k().join("")?s=[]:L(s)),A(e,s),f===e&&U(e,M(h())),G(e)}}var J,tt,et,it,nt,at=!1,rt=!1,ot=!1,st=!1,lt=!0;if(void 0!=n)switch(n.action){case"isComplete":return it=t(n.el),a=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,R(n.buffer);case"unmaskedvalue":return it=n.$input,a=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,at=n.$input.data("_inputmask").isRTL,j(n.$input);case"mask":J=b().join(""),$(n.el);break;case"format":it=t({}),it.data("_inputmask",{maskset:a,opts:r,isRTL:r.numericInput}),r.numericInput&&(at=!0);var ut=(t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(it,n.value,r)||n.value:n.value).split("");return I(it,!1,!1,at?ut.reverse():ut),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite.call(this,void 0,b(),0,r),n.metadata?{value:at?b().slice().reverse().join(""):b().join(""),metadata:it.inputmask("getmetadata")}:at?b().slice().reverse().join(""):b().join("");case"isValid":it=t({}),it.data("_inputmask",{maskset:a,opts:r,isRTL:r.numericInput}),r.numericInput&&(at=!0);var ut=n.value.split("");I(it,!1,!0,at?ut.reverse():ut);for(var ct=b(),dt=N(),ht=ct.length-1;ht>dt&&!P(ht);ht--);return ct.splice(dt,ht+1-dt),R(ct)&&n.value==ct.join("");case"getemptymask":return it=t(n.el),a=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,k();case"remove":var ft=n.el;it=t(ft),a=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,ft._valueSet(j(it)),it.unbind(".inputmask"),it.removeData("_inputmask");var pt;Object.getOwnPropertyDescriptor&&(pt=Object.getOwnPropertyDescriptor(ft,"value")),pt&&pt.get?ft._valueGet&&Object.defineProperty(ft,"value",{get:ft._valueGet,set:ft._valueSet}):document.__lookupGetter__&&ft.__lookupGetter__("value")&&ft._valueGet&&(ft.__defineGetter__("value",ft._valueGet),ft.__defineSetter__("value",ft._valueSet));try{delete ft._valueGet,delete ft._valueSet}catch(mt){ft._valueGet=void 0,ft._valueSet=void 0}break;case"getmetadata":if(it=t(n.el),a=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,t.isArray(a.metadata)){for(var vt,gt=h(),yt=gt;yt>=0;yt--)if(c().validPositions[yt]&&void 0!=c().validPositions[yt].alternation){vt=c().validPositions[yt].alternation;break}return void 0!=vt?a.metadata[c().validPositions[gt].locator[vt]]:a.metadata[0]}return a.metadata}}if(void 0===t.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i")),null!==o.match(new RegExp("android.*firefox.*","i"))),u=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),e("paste")?"paste":e("input")?"input":"propertychange");t.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:t.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:t.noop},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},format:function(e,i,o){var s=t.extend(!0,{},t.inputmask.defaults,i);return n(s.alias,i,s),r({action:"format",value:e,metadata:o},a(s),s)},isValid:function(e,i){var o=t.extend(!0,{},t.inputmask.defaults,i);return n(o.alias,i,o),r({action:"isValid",value:e},a(o),o)}},t.fn.inputmask=function(e,i){function o(e,i,a){var r=t(e);r.data("inputmask-alias")&&n(r.data("inputmask-alias"),{},i);for(var o in i){var s=r.data("inputmask-"+o.toLowerCase());void 0!=s&&("mask"==o&&0==s.indexOf("[")?(i[o]=s.replace(/[\s[\]]/g,"").split("','"),i[o][0]=i[o][0].replace("'",""),i[o][i[o].length-1]=i[o][i[o].length-1].replace("'","")):i[o]="boolean"==typeof s?s:s.toString(),a&&(a[o]=i[o]))}return i}var s,l=t.extend(!0,{},t.inputmask.defaults,i);if("string"==typeof e)switch(e){case"mask":return n(l.alias,i,l),s=a(l),void 0==s?this:this.each(function(){r({action:"mask",el:this},t.extend(!0,{},s),o(this,l))});case"unmaskedvalue":var u=t(this);return u.data("_inputmask")?r({action:"unmaskedvalue",$input:u}):u.val();case"remove":return this.each(function(){var e=t(this);e.data("_inputmask")&&r({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?r({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?r({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?r({action:"getmetadata",el:this}):void 0;default:return n(l.alias,i,l),n(e,i,l)||(l.mask=e),s=a(l),void 0==s?this:this.each(function(){r({action:"mask",el:this},t.extend(!0,{},s),o(this,l))})}else{if("object"==typeof e)return l=t.extend(!0,{},t.inputmask.defaults,e),n(l.alias,e,l),s=a(l),void 0==s?this:this.each(function(){r({action:"mask",el:this},t.extend(!0,{},s),o(this,l))});if(void 0==e)return this.each(function(){var e=t(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var a=t.parseJSON("{"+e+"}");t.extend(!0,a,i),l=t.extend(!0,{},t.inputmask.defaults,a),l=o(this,l),n(l.alias,a,l),l.alias=void 0,t(this).inputmask("mask",l)}catch(r){}if(t(this).attr("data-inputmask-mask")||t(this).attr("data-inputmask-alias")){l=t.extend(!0,{},t.inputmask.defaults,{});var s={};l=o(this,l,s),n(l.alias,s,l),l.alias=void 0,t(this).inputmask("mask",l)}})}}}return t.fn.inputmask}),!function($){return $.extend($.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),$.extend($.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var e=$.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+e+"[01])")},val2:function(t){var e=$.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+e+"(0[1-9]|1[012]))|(30"+e+"(0[13-9]|1[012]))|(31"+e+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){if(isNaN(t))return!1;var n=parseInt(t.concat(e.toString().slice(t.length))),a=parseInt(t.concat(i.toString().slice(t.length)));return(isNaN(n)?!1:n>=e&&i>=n)||(isNaN(a)?!1:a>=e&&i>=a)},determinebaseyear:function(t,e,i){var n=(new Date).getFullYear();if(t>n)return t;if(n>e){for(var a=e.toString().slice(0,2),r=e.toString().slice(2,4);a+i>e;)a--;var o=a+r;return t>o?t:o}return n},onKeyUp:function(t,e,i){var n=$(this);if(t.ctrlKey&&t.keyCode==$.inputmask.keyCode.RIGHT){var a=new Date;n.val(a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}},getFrontValue:function(t,e,i){for(var n=0,a=0,r=0;r<t.length&&"2"!=t.charAt(r);r++){var o=i.definitions[t.charAt(r)];o?(n+=a,a=o.cardinality):a++}return e.join("").substr(n,a)},definitions:{1:{validator:function(t,e,i,n,a){var r=a.regex.val1.test(t);return n||r||t.charAt(1)!=a.separator&&-1=="-./".indexOf(t.charAt(1))||!(r=a.regex.val1.test("0"+t.charAt(0)))?r:(e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,a){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var r=1==t.length?a.regex.val1pre.test(t):a.regex.val1.test(t);return n||r||!(r=a.regex.val1.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},2:{validator:function(t,e,i,n,a){var r=a.getFrontValue(e.mask,e.buffer,a);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=a.regex.val2(a.separator).test(r+t);if(!n&&!o&&(t.charAt(1)==a.separator||-1!="-./".indexOf(t.charAt(1)))&&(o=a.regex.val2(a.separator).test(r+"0"+t.charAt(0))))return e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)};if(a.mask.indexOf("2")==a.mask.length-1&&o){var s=e.buffer.join("").substr(4,4)+t;if(s!=a.leapday)return!0;var l=parseInt(e.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}return o},cardinality:2,prevalidator:[{validator:function(t,e,i,n,a){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var r=a.getFrontValue(e.mask,e.buffer,a);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=1==t.length?a.regex.val2pre(a.separator).test(r+t):a.regex.val2(a.separator).test(r+t);return n||o||!(o=a.regex.val2(a.separator).test(r+"0"+t))?o:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(t,e,i,n,a){if(a.isInYearRange(t,a.yearrange.minyear,a.yearrange.maxyear)){var r=e.buffer.join("").substr(0,6);if(r!=a.leapday)return!0;var o=parseInt(t,10);return o%4===0?o%100===0?o%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(t,e,i,n,a){var r=a.isInYearRange(t,a.yearrange.minyear,a.yearrange.maxyear);if(!n&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,t+"0").toString().slice(0,1);if(r=a.isInYearRange(o+t,a.yearrange.minyear,a.yearrange.maxyear))return e.buffer[i++]=o.charAt(0),{pos:i};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,t+"0").toString().slice(0,2),r=a.isInYearRange(o+t,a.yearrange.minyear,a.yearrange.maxyear))return e.buffer[i++]=o.charAt(0),e.buffer[i++]=o.charAt(1),{pos:i}}return r},cardinality:1},{validator:function(t,e,i,n,a){var r=a.isInYearRange(t,a.yearrange.minyear,a.yearrange.maxyear);if(!n&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,t).toString().slice(0,2);if(r=a.isInYearRange(t[0]+o[1]+t[1],a.yearrange.minyear,a.yearrange.maxyear))return e.buffer[i++]=o.charAt(1),{pos:i};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,t).toString().slice(0,2),a.isInYearRange(o+t,a.yearrange.minyear,a.yearrange.maxyear)){var s=e.buffer.join("").substr(0,6);if(s!=a.leapday)r=!0;else{var l=parseInt(t,10);r=l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}}else r=!1;if(r)return e.buffer[i-1]=o.charAt(0),e.buffer[i++]=o.charAt(1),e.buffer[i++]=t.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return r},cardinality:2},{validator:function(t,e,i,n,a){return a.isInYearRange(t,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var e=$.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+e+"[0-3])|(02"+e+"[0-2])")},val2:function(t){var e=$.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+e+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+e+"30)|((0[13578]|1[02])"+e+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(t,e,i){var n=$(this);if(t.ctrlKey&&t.keyCode==$.inputmask.keyCode.RIGHT){var a=new Date;n.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,e,i){var n=$(this);if(t.ctrlKey&&t.keyCode==$.inputmask.keyCode.RIGHT){var a=new Date;n.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),n.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,a){if("24"==a.hourFormat&&24==parseInt(t,10))return e.buffer[i-1]="0",e.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var r=a.regex.hrs.test(t);if(!n&&!r&&(t.charAt(1)==a.timeseparator||-1!="-.:".indexOf(t.charAt(1)))&&(r=a.regex.hrs.test("0"+t.charAt(0))))return e.buffer[i-1]="0",e.buffer[i]=t.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:a.timeseparator};if(r&&"24"!==a.hourFormat&&a.regex.hrs24.test(t)){var o=parseInt(t,10);return 24==o?(e.buffer[i+5]="a",e.buffer[i+6]="m"):(e.buffer[i+5]="p",e.buffer[i+6]="m"),o-=12,10>o?(e.buffer[i]=o.toString(),e.buffer[i-1]="0"):(e.buffer[i]=o.toString().charAt(1),e.buffer[i-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:e.buffer[i]}}return r},cardinality:2,prevalidator:[{validator:function(t,e,i,n,a){var r=a.regex.hrspre.test(t);return n||r||!(r=a.regex.hrs.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,i,n,a){var r=a.regex.mspre.test(t);return n||r||!(r=a.regex.ms.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(t,e,i,n,a){return a.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),$.fn.inputmask}(jQuery),!function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function i(t,e){return t.slice(-1*e.length)===e}function n(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw new Error(e)}function a(t){return"number"==typeof t&&isFinite(t)}function r(t,e){var i=Math.pow(10,e);return(Math.round(t*i)/i).toFixed(e)}function o(e,i,n,o,s,l,u,c,d,h,f,p){var m,v,g,y=p,k="",b="";return l&&(p=l(p)),a(p)?(e!==!1&&0===parseFloat(p.toFixed(e))&&(p=0),0>p&&(m=!0,p=Math.abs(p)),e!==!1&&(p=r(p,e)),p=p.toString(),-1!==p.indexOf(".")?(v=p.split("."),g=v[0],n&&(k=n+v[1])):g=p,i&&(g=t(g).match(/.{1,3}/g),g=t(g.join(t(i)))),m&&c&&(b+=c),o&&(b+=o),m&&d&&(b+=d),b+=g,b+=k,s&&(b+=s),h&&(b=h(b,y)),b):!1}function s(t,n,r,o,s,l,u,c,d,h,f,p){var m,v="";return f&&(p=f(p)),p&&"string"==typeof p?(c&&e(p,c)&&(p=p.replace(c,""),m=!0),o&&e(p,o)&&(p=p.replace(o,"")),d&&e(p,d)&&(p=p.replace(d,""),m=!0),s&&i(p,s)&&(p=p.slice(0,-1*s.length)),n&&(p=p.split(n).join("")),r&&(p=p.replace(r,".")),m&&(v+="-"),v+=p,v=v.replace(/[^0-9\.\-.]/g,""),""===v?!1:(v=Number(v),u&&(v=u(v)),a(v)?v:!1)):!1}function l(t){var e,i,a,r={};for(e=0;e<d.length;e+=1)if(i=d[e],a=t[i],void 0===a)r[i]="negative"!==i||r.negativeBefore?"mark"===i&&"."!==r.thousand?".":!1:"-";else if("decimals"===i){if(!(a>=0&&8>a))throw new Error(i);r[i]=a}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof a)throw new Error(i);r[i]=a}else{if("string"!=typeof a)throw new Error(i);r[i]=a}return n(r,"mark","thousand"),n(r,"prefix","negative"),n(r,"prefix","negativeBefore"),r}function u(t,e,i){var n,a=[];for(n=0;n<d.length;n+=1)a.push(t[d[n]]);return a.push(i),e.apply("",a)}function c(t){return this instanceof c?void("object"==typeof t&&(t=l(t),this.to=function(e){return u(t,o,e)},this.from=function(e){return u(t,s,e)})):new c(t)}var d=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=c}(),function(t){"use strict";function e(e){return e instanceof t||t.zepto&&t.zepto.isZ(e)}function i(e,i){return"string"==typeof e&&0===e.indexOf("-inline-")?(this.method=i||"html",this.target=this.el=t(e.replace("-inline-","")||"<div/>"),!0):void 0}function n(e){if("string"==typeof e&&0!==e.indexOf("-")){this.method="val";var i=document.createElement("input");return i.name=e,i.type="hidden",this.target=this.el=t(i),!0}}function a(t){return"function"==typeof t?(this.target=!1,this.method=t,!0):void 0}function r(t,i){return e(t)&&!i?(t.is("input, select, textarea")?(this.method="val",this.target=t.on("change.liblink",this.changeHandler)):(this.target=t,this.method="html"),!0):void 0}function o(t,i){return e(t)&&("function"==typeof i||"string"==typeof i&&t[i])?(this.method=i,this.target=t,!0):void 0}function s(e,i,n){var a=this,r=!1;if(this.changeHandler=function(e){var i=a.formatInstance.from(t(this).val());return i===!1||isNaN(i)?(t(this).val(a.lastSetValue),!1):void a.changeHandlerMethod.call("",e,i)},this.el=!1,this.formatInstance=n,t.each(c,function(t,n){return r=n.call(a,e,i),!r}),!r)throw new RangeError("(Link) Invalid Link.")}function l(t){this.items=[],this.elements=[],this.origin=t}function u(e,i,n,a){0===e&&(e=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[e]||(this.linkAPI[e]=new l(this));var r=new s(i,n,a||this.LinkDefaultFormatter);r.target||(r.target=t(this)),r.changeHandlerMethod=this.LinkConfirm(e,r.el),this.linkAPI[e].push(r,r.el),this.LinkUpdate(e)}var c=[i,n,a,r,o];s.prototype.set=function(t){var e=Array.prototype.slice.call(arguments),i=e.slice(1);this.lastSetValue=this.formatInstance.to(t),i.unshift(this.lastSetValue),("function"==typeof this.method?this.method:this.target[this.method]).apply(this.target,i)},l.prototype.push=function(t,e){this.items.push(t),e&&this.elements.push(e)},l.prototype.reconfirm=function(t){var e;for(e=0;e<this.elements.length;e+=1)this.origin.LinkConfirm(t,this.elements[e])},l.prototype.remove=function(){var t;for(t=0;t<this.items.length;t+=1)this.items[t].target.off(".liblink");for(t=0;t<this.elements.length;t+=1)this.elements[t].remove()},l.prototype.change=function(t){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var e,i=Array.prototype.slice.call(arguments,1);for(i.unshift(t),e=0;e<this.items.length;e+=1)this.items[e].set.apply(this.items[e],i);this.origin.LinkIsEmitting=!1},t.fn.Link=function(e){var i=this;if(e===!1)return i.each(function(){this.linkAPI&&(t.map(this.linkAPI,function(t){t.remove()}),delete this.linkAPI)});if(void 0===e)e=0;else if("string"!=typeof e)throw new Error("Flag must be string.");return{to:function(t,n,a){return i.each(function(){u.call(this,e,t,n,a)})}}}}(window.jQuery||window.Zepto),function(t){"use strict";function e(e){return t.grep(e,function(i,n){return n===t.inArray(i,e)})}function i(t,e){return Math.round(t/e)*e}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t){var e=Math.pow(10,7);return Number((Math.round(t*e)/e).toFixed(7))}function r(t,e,i){t.addClass(e),setTimeout(function(){t.removeClass(e)},i)}function o(t){return Math.max(Math.min(t,100),0)}function s(e){return t.isArray(e)?e:[e];
}function l(t){var e=t.split(".");return e.length>1?e[1].length:0}function u(t,e){return 100/(e-t)}function c(t,e){return 100*e/(t[1]-t[0])}function d(t,e){return c(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function h(t,e){return e*(t[1]-t[0])/100+t[0]}function f(t,e){for(var i=1;t>=e[i];)i+=1;return i}function p(t,e,i){if(i>=t.slice(-1)[0])return 100;var n,a,r,o,s=f(i,t);return n=t[s-1],a=t[s],r=e[s-1],o=e[s],r+d([n,a],i)/u(r,o)}function m(t,e,i){if(i>=100)return t.slice(-1)[0];var n,a,r,o,s=f(i,e);return n=t[s-1],a=t[s],r=e[s-1],o=e[s],h([n,a],(i-r)*u(r,o))}function v(t,e,n,a){if(100===a)return a;var r,o,s=f(a,t);return n?(r=t[s-1],o=t[s],a-r>(o-r)/2?o:r):e[s-1]?t[s-1]+i(a-t[s-1],e[s-1]):a}function g(t,e,i){var a;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(a="min"===t?0:"max"===t?100:parseFloat(t),!n(a)||!n(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(a),i.xVal.push(e[0]),a?i.xSteps.push(isNaN(e[1])?!1:e[1]):isNaN(e[1])||(i.xSteps[0]=e[1])}function y(t,e,i){return e?void(i.xSteps[t]=c([i.xVal[t],i.xVal[t+1]],e)/u(i.xPct[t],i.xPct[t+1])):!0}function k(t,e,i,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e,this.direction=i;var a,r=[];for(a in t)t.hasOwnProperty(a)&&r.push([t[a],a]);for(r.sort(function(t,e){return t[0]-e[0]}),a=0;a<r.length;a++)g(r[a][1],r[a][0],this);for(this.xNumSteps=this.xSteps.slice(0),a=0;a<this.xNumSteps.length;a++)y(a,this.xNumSteps[a],this)}function b(t,e){if(!n(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function x(e,i){if("object"!=typeof i||t.isArray(i))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===i.min||void 0===i.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new k(i,e.snap,e.dir,e.singleStep)}function w(e,i){if(i=s(i),!t.isArray(i)||!i.length||i.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=i.length,e.start=i}function C(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function S(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function P(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function _(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function M(t,e){if(!n(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(e),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(t,e){if(!n(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function T(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function A(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,a=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0;t.events={tap:i||r,drag:n,fixed:a,snap:r}}function F(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function I(e){var i,n={margin:0,limit:0,animate:!0,format:Z};return i={step:{r:!1,t:b},start:{r:!0,t:w},connect:{r:!0,t:P},direction:{r:!0,t:T},snap:{r:!1,t:C},animate:{r:!1,t:S},range:{r:!0,t:x},orientation:{r:!1,t:_},margin:{r:!1,t:M},limit:{r:!1,t:E},behaviour:{r:!0,t:A},format:{r:!1,t:F}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),t.each(i,function(t,i){if(void 0===e[t]){if(i.r)throw new Error("noUiSlider: '"+t+"' is required.");return!0}i.t(n,e[t])}),n.style=n.ort?"top":"left",n}function O(t,e,i){var n=t+e[0],a=t+e[1];return i?(0>n&&(a+=Math.abs(n)),a>100&&(n-=a-100),[o(n),o(a)]):[n,a]}function j(t){t.preventDefault();var e,i,n=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),o=t;return 0===t.type.indexOf("MSPointer")&&(r=!0),t.originalEvent&&(t=t.originalEvent),n&&(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),(a||r)&&(r||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),e=t.clientX+window.pageXOffset,i=t.clientY+window.pageYOffset),o.points=[e,i],o.cursor=a,o}function D(e,i){var n=t("<div><div/></div>").addClass(X[2]),a=["-lower","-upper"];return e&&a.reverse(),n.children().addClass(X[3]+" "+X[3]+a[i]),n}function U(t,e,i){switch(t){case 1:e.addClass(X[7]),i[0].addClass(X[6]);break;case 3:i[1].addClass(X[6]);case 2:i[0].addClass(X[7]);case 0:e.addClass(X[6])}}function N(t,e,i){var n,a=[];for(n=0;t>n;n+=1)a.push(D(e,n).appendTo(i));return a}function L(e,i,n){return n.addClass([X[0],X[8+e],X[4+i]].join(" ")),t("<div/>").appendTo(n).addClass(X[1])}function R(e,i,n){function a(){return E[["width","height"][i.ort]]()}function u(t){var e,i=[A.val()];for(e=0;e<t.length;e+=1)A.trigger(t[e],i)}function c(t){return 1===t.length?t[0]:i.dir?t.reverse():t}function d(t){return function(e,i){A.val([t?null:i,t?i:null],!0)}}function h(e){var i=t.inArray(e,R);A[0].linkAPI&&A[0].linkAPI[e]&&A[0].linkAPI[e].change(D[i],T[i].children(),A)}function f(e,n){var a=t.inArray(e,R);return n&&n.appendTo(T[a].children()),i.dir&&i.handles>1&&(a=1===a?0:1),d(a)}function p(){var t,e;for(t=0;t<R.length;t+=1)this.linkAPI&&this.linkAPI[e=R[t]]&&this.linkAPI[e].reconfirm(e)}function m(t,e,n,a){return t=t.replace(/\s/g,Y+" ")+Y,e.on(t,function(t){return A.attr("disabled")?!1:A.hasClass(X[14])?!1:(t=j(t),t.calcPoint=t.points[i.ort],void n(t,a))})}function v(t,e){var i,n=e.handles||T,r=!1,o=100*(t.calcPoint-e.start)/a(),s=n[0][0]!==T[0][0]?1:0;i=O(o,e.positions,n.length>1),r=x(n[0],i[s],1===n.length),n.length>1&&(r=x(n[1],i[s?0:1],!1)||r),r&&u(["slide"])}function g(e){t("."+X[15]).removeClass(X[15]),e.cursor&&t("body").css("cursor","").off(Y),W.off(Y),A.removeClass(X[12]),u(["set","change"])}function y(e,i){1===i.handles.length&&i.handles[0].children().addClass(X[15]),e.stopPropagation(),m(Q.move,W,v,{start:e.calcPoint,handles:i.handles,positions:[F[0],F[T.length-1]]}),m(Q.end,W,g,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),T.length>1&&A.addClass(X[12]),t("body").on("selectstart"+Y,!1))}function k(e){var n,o=e.calcPoint,s=0;e.stopPropagation(),t.each(T,function(){s+=this.offset()[i.style]}),s=s/2>o||1===T.length?0:1,o-=E.offset()[i.style],n=100*o/a(),i.events.snap||r(A,X[14],300),x(T[s],n),u(["slide","set","change"]),i.events.snap&&y(e,{handles:[T[s]]})}function b(t){var e,i;if(!t.fixed)for(e=0;e<T.length;e+=1)m(Q.start,T[e].children(),y,{handles:[T[e]]});t.tap&&m(Q.start,E,k,{handles:T}),t.drag&&(i=E.find("."+X[7]).addClass(X[10]),t.fixed&&(i=i.add(E.children().not(i).children())),m(Q.start,i,y,{handles:T}))}function x(t,e,n){var a=t[0]!==T[0][0]?1:0,r=F[0]+i.margin,s=F[1]-i.margin,l=F[0]+i.limit,u=F[1]-i.limit;return T.length>1&&(e=a?Math.max(e,r):Math.min(e,s)),n!==!1&&i.limit&&T.length>1&&(e=a?Math.min(e,l):Math.max(e,u)),e=I.getStep(e),e=o(parseFloat(e.toFixed(7))),e===F[a]?!1:(t.css(i.style,e+"%"),t.is(":first-child")&&t.toggleClass(X[17],e>50),F[a]=e,D[a]=I.fromStepping(e),h(R[a]),!0)}function w(t,e){var n,a,r;for(i.limit&&(t+=1),n=0;t>n;n+=1)a=n%2,r=e[a],null!==r&&r!==!1&&("number"==typeof r&&(r=String(r)),r=i.format.from(r),(r===!1||isNaN(r)||x(T[a],I.toStepping(r),n===3-i.dir)===!1)&&h(R[a]))}function C(t){if(A[0].LinkIsEmitting)return this;var e,n=s(t);return i.dir&&i.handles>1&&n.reverse(),i.animate&&-1!==F[0]&&r(A,X[14],300),e=T.length>1?3:1,1===n.length&&(e=1),w(e,n),u(["set"]),this}function S(){var t,e=[];for(t=0;t<i.handles;t+=1)e[t]=i.format.to(D[t]);return c(e)}function P(){return t(this).off(Y).removeClass(X.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,n}function _(){var e=t.map(F,function(t,e){var i=I.getApplicableStep(t),n=l(String(i[2])),a=D[e],r=100===t?null:i[2],o=Number((a-i[2]).toFixed(n)),s=0===t?null:o>=i[1]?i[2]:i[0]||!1;return[[s,r]]});return c(e)}function M(){return n}var E,T,A=t(e),F=[-1,-1],I=i.spectrum,D=[],R=["lower","upper"].slice(0,i.handles);if(i.dir&&R.reverse(),e.LinkUpdate=h,e.LinkConfirm=f,e.LinkDefaultFormatter=i.format,e.LinkDefaultFlag="lower",e.reappend=p,A.hasClass(X[0]))throw new Error("Slider was already initialized.");E=L(i.dir,i.ort,A),T=N(i.handles,i.dir,E),U(i.connect,A,T),b(i.events),e.vSet=C,e.vGet=S,e.destroy=P,e.getCurrentStep=_,e.getOriginalOptions=M,e.getInfo=function(){return[I,i.style,i.ort]},A.val(i.start)}function V(t){var e=I(t,this);return this.each(function(){R(this,e,t)})}function G(e){return this.each(function(){if(!this.destroy)return void t(this).noUiSlider(e);var i=t(this).val(),n=this.destroy(),a=t.extend({},n,e);t(this).noUiSlider(a),this.reappend(),n.start===a.start&&t(this).val(i)})}function B(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}function H(e,i,n,a){if("range"===i||"steps"===i)return e.xVal;if("count"===i){var r,o=100/(n-1),s=0;for(n=[];(r=s++*o)<=100;)n.push(r);i="positions"}return"positions"===i?t.map(n,function(t){return e.fromStepping(a?e.getStep(t):t)}):"values"===i?a?t.map(n,function(t){return e.fromStepping(e.getStep(e.toStepping(t)))}):n:void 0}function K(i,n,a,r){var o=i.direction,s={},l=i.xVal[0],u=i.xVal[i.xVal.length-1],c=!1,d=!1,h=0;return i.direction=0,r=e(r.slice().sort(function(t,e){return t-e})),r[0]!==l&&(r.unshift(l),c=!0),r[r.length-1]!==u&&(r.push(u),d=!0),t.each(r,function(e){var o,l,u,f,p,m,v,g,y,k,b=r[e],x=r[e+1];if("steps"===a&&(o=i.xNumSteps[e]),o||(o=x-b),b!==!1&&void 0!==x)for(l=b;x>=l;l+=o){for(f=i.toStepping(l),p=f-h,g=p/n,y=Math.round(g),k=p/y,u=1;y>=u;u+=1)m=h+u*k,s[m.toFixed(5)]=["x",0];v=t.inArray(l,r)>-1?1:"steps"===a?2:0,!e&&c&&(v=0),l===x&&d||(s[f.toFixed(5)]=[l,v]),h=f}}),i.direction=o,s}function z(e,i,n,a,r,o){function s(t){return["-normal","-large","-sub"][t]}function l(t,i,n){return'class="'+i+" "+i+"-"+c+" "+i+s(n[1],n[0])+'" style="'+e+": "+t+'%"'}function u(t,e){n&&(t=100-t),e[1]=e[1]&&r?r(e[0],e[1]):e[1],d.append("<div "+l(t,"noUi-marker",e)+"></div>"),e[1]&&d.append("<div "+l(t,"noUi-value",e)+">"+o.to(e[0])+"</div>")}var c=["horizontal","vertical"][i],d=t("<div/>");return d.addClass("noUi-pips noUi-pips-"+c),t.each(a,u),d}var W=t(document),q=t.fn.val,Y=".nui",Q=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},X=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];k.prototype.getMargin=function(t){return 2===this.xPct.length?c(this.xVal,t):!1},k.prototype.toStepping=function(t){return t=p(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},k.prototype.fromStepping=function(t){return this.direction&&(t=100-t),a(m(this.xVal,this.xPct,t))},k.prototype.getStep=function(t){return this.direction&&(t=100-t),t=v(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},k.prototype.getApplicableStep=function(t){var e=f(t,this.xPct),i=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-i],this.xNumSteps[e-i]]},k.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var Z={to:function(t){return t.toFixed(2)},from:Number};t.fn.val=function(e){function i(t){return t.hasClass(X[0])?B:q}if(!arguments.length){var n=t(this[0]);return i(n).call(n)}var a=t.isFunction(e);return this.each(function(n){var r=e,o=t(this);a&&(r=e.call(this,n,o.val())),i(o).call(o,r)})},t.fn.noUiSlider=function(t,e){switch(t){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(e?G:V).call(this,t)},t.fn.noUiSlider_pips=function(e){var i=e.mode,n=e.density||1,a=e.filter||!1,r=e.values||!1,o=e.format||{to:Math.round},s=e.stepped||!1;return this.each(function(){var e=this.getInfo(),l=H(e[0],i,r,s),u=K(e[0],n,i,l);return t(this).append(z(e[1],e[2],e[0].direction,u,a,o))})}}(window.jQuery||window.Zepto),function(){function t(t){for(var e,i=t.css("color"),n,t=t[0],a=!1;t&&!n&&!a;){try{e=$(t).css("background-color")}catch(r){e="transparent"}"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&(n=e),a=t.body,t=t.parentNode}var t=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,a=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/,o;e=void 0,(e=i.match(t))?o={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=i.match(a))&&(o={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)});var s;return n?(e=void 0,(e=n.match(t))?s={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=n.match(a))&&(s={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)})):s=o&&127<Math.max.apply(null,[o.r,o.g,o.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},e=function(t){return"rgb("+[t.r,t.g,t.b].join(", ")+")"},o&&s?(t=Math.max.apply(null,[o.r,o.g,o.b]),o=Math.max.apply(null,[s.r,s.g,s.b]),o=Math.round(o+-.75*(o-t)),o={r:o,g:o,b:o}):o?(o=Math.max.apply(null,[o.r,o.g,o.b]),t=1,o>127&&(t=-1),o=Math.round(o+96*t),o={r:o,g:o,b:o}):o={r:191,g:191,b:191},{color:i,"background-color":s?e(s):n,"decor-color":e(o)}}function e(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*i(this.y);else if(0===this.y)this._length=t,this.x=t*i(this.x);else{var e=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*n;this._length=t,this.x=n*i(this.x),this.y=e*i(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function i(t,i){this.x=t,this.y=i,this.getVectorToCoordinates=function(t,i){return new e(t-this.x,i-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new e(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function n(t,e,i,n,a){if(this.data=t,this.context=e,t.length)for(var r=t.length,o,s,l=0;r>l;l++){o=t[l],s=o.x.length,i.call(e,o);for(var u=1;s>u;u++)n.call(e,o,u);a.call(e,o)}this.changed=function(){},this.startStrokeFn=i,this.addToStrokeFn=n,this.endStrokeFn=a,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(t){if(t&&"number"==typeof t.x&&"number"==typeof t.y){this._stroke={x:[t.x],y:[t.y]},this.data.push(this._stroke),this._lastPoint=t,this.inStroke=!0;var e=this._stroke,i=this.startStrokeFn,n=this.context;return setTimeout(function(){i.call(n,e)},3),t}return null},this.addToStroke=function(t){if(this.inStroke&&"number"==typeof t.x&&"number"==typeof t.y&&4<Math.abs(t.x-this._lastPoint.x)+Math.abs(t.y-this._lastPoint.y)){var e=this._stroke.x.length;this._stroke.x.push(t.x),this._stroke.y.push(t.y),this._lastPoint=t;var i=this._stroke,n=this.addToStrokeFn,a=this.context;return setTimeout(function(){n.call(a,i,e)},3),t}return null},this.endStroke=function(){var t=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,t){var e=this._stroke,i=this.endStrokeFn,n=this.context,a=this.changed;return setTimeout(function(){i.call(n,e),a.call(n)},3),!0}return null}}function a(e,n,a){var l=this.$parent=$(e),e=this.eventTokens={};this.events=new s(this);var u=$.fn[r]("globalEvents"),c={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(c,t(l)),n&&$.extend(c,n),this.settings=c;for(var d in a)a.hasOwnProperty(d)&&a[d].call(this,d);this.events.publish(r+".initializing"),this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(l),this.isCanvasEmulator=!1,a=this.canvas=this.initializeCanvas(c),n=$(a),this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(l),this.canvasContext=a.getContext("2d"),n.data(r+".this",this),l=(l=c.lineWidth)?l:Math.max(Math.round(a.width/400),2),c.lineWidth=l,this.lineCurveThreshold=3*c.lineWidth,c.cssclass&&""!=$.trim(c.cssclass)&&n.addClass(c.cssclass),this.fatFingerCompensation=0;var l=function(t){var e,n,a=function(a){return a=a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a,new i(Math.round(a.pageX+e),Math.round(a.pageY+n)+t.fatFingerCompensation)},r=new o(750,function(){t.dataEngine.endStroke()});return this.drawEndHandler=function(e){try{e.preventDefault()}catch(i){}r.clear(),t.dataEngine.endStroke()},this.drawStartHandler=function(i){i.preventDefault();var o=$(t.canvas).offset();e=-1*o.left,n=-1*o.top,t.dataEngine.startStroke(a(i)),r.kick()},this.drawMoveHandler=function(e){e.preventDefault(),t.dataEngine.inStroke&&(t.dataEngine.addToStroke(a(e)),r.kick())},this}.call({},this),h=l.drawEndHandler,f=l.drawStartHandler,p=l.drawMoveHandler,m=this.canvas,n=$(m);this.isCanvasEmulator?(n.bind("mousemove."+r,p),n.bind("mouseup."+r,h),n.bind("mousedown."+r,f)):(m.ontouchstart=function(t){m.onmousedown=void 0,m.onmouseup=void 0,m.onmousemove=void 0,this.fatFingerCompensation=c.minFatFingerCompensation&&-3*c.lineWidth>c.minFatFingerCompensation?-3*c.lineWidth:c.minFatFingerCompensation,f(t),m.ontouchend=h,m.ontouchstart=f,m.ontouchmove=p},m.onmousedown=function(t){m.ontouchstart=void 0,m.ontouchend=void 0,m.ontouchmove=void 0,f(t),m.onmousedown=f,m.onmouseup=h,m.onmousemove=p}),e[r+".windowmouseup"]=u.subscribe(r+".windowmouseup",l.drawEndHandler),this.events.publish(r+".attachingEventHandlers");var v=this,e=c.width.toString(10),g=r;return("ratio"===e||"%"===e.split("")[e.length-1])&&(this.eventTokens[g+".parentresized"]=u.subscribe(g+".parentresized",function(t,e,i){return function(){var n=e.width();if(n!==i){for(var a in t)t.hasOwnProperty(a)&&(u.unsubscribe(t[a]),delete t[a]);var r=v.settings;v.$parent.children().remove();for(a in v)v.hasOwnProperty(a)&&delete v[a];a=r.data;var n=1*n/i,o=[],s,l,c,d,h,f;for(l=0,c=a.length;c>l;l++){for(f=a[l],s={x:[],y:[]},d=0,h=f.x.length;h>d;d++)s.x.push(f.x[d]*n),s.y.push(f.y[d]*n);o.push(s)}r.data=o,e[g](r)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height))),this.resetCanvas(c.data),this.events.publish(r+".initialized"),this}var r="jSignature",o=function(t,e){var i;return this.kick=function(){clearTimeout(i),i=setTimeout(e,t)},this.clear=function(){clearTimeout(i)},this},s=function(t){this.topics={},this.context=t?t:this,this.publish=function(t,e,i,n){if(this.topics[t]){var a=this.topics[t],r=Array.prototype.slice.call(arguments,1),o=[],s,l,u,c;for(l=0,u=a.length;u>l;l++)c=a[l],s=c[0],c[1]&&(c[0]=function(){},o.push(l)),s.apply(this.context,r);for(l=0,u=o.length;u>l;l++)a.splice(o[l],1)}},this.subscribe=function(t,e,i){return this.topics[t]?this.topics[t].push([e,i]):this.topics[t]=[[e,i]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic])for(var e=this.topics[t.topic],i=0,n=e.length;n>i;i++)e[i][0]===t.callback&&e.splice(i,1)}},l=function(t){var e=this.canvasContext,i=t.x[0],t=t.y[0],n=this.settings.lineWidth,a=e.fillStyle;e.fillStyle=e.strokeStyle,e.fillRect(i+n/-2,t+n/-2,n,n),e.fillStyle=a},u=function(t,n){var a=new i(t.x[n-1],t.y[n-1]),r=new i(t.x[n],t.y[n]),o=a.getVectorToPoint(r);if(n>1){var s=new i(t.x[n-2],t.y[n-2]),l=s.getVectorToPoint(a),u;if(l.getLength()>this.lineCurveThreshold){u=n>2?new i(t.x[n-3],t.y[n-3]).getVectorToPoint(s):new e(0,0);var c=.35*l.getLength(),d=l.angleTo(u.reverse()),h=o.angleTo(l.reverse());u=new e(u.x+l.x,u.y+l.y).resizeTo(Math.max(.05,d)*c);var f=new e(l.x+o.x,l.y+o.y).reverse().resizeTo(Math.max(.05,h)*c),l=this.canvasContext,c=s.x,h=s.y,d=a.x,p=a.y,m=s.x+u.x,s=s.y+u.y;u=a.x+f.x,f=a.y+f.y,l.beginPath(),l.moveTo(c,h),l.bezierCurveTo(m,s,u,f,d,p),l.stroke()}}o.getLength()<=this.lineCurveThreshold&&(o=this.canvasContext,s=a.x,a=a.y,u=r.x,r=r.y,o.beginPath(),o.moveTo(s,a),o.lineTo(u,r),o.stroke())},c=function(t){var n=t.x.length-1;if(n>0){var a=new i(t.x[n],t.y[n]),r=new i(t.x[n-1],t.y[n-1]),o=r.getVectorToPoint(a);if(o.getLength()>this.lineCurveThreshold){if(n>1){var t=new i(t.x[n-2],t.y[n-2]).getVectorToPoint(r),s=new e(t.x+o.x,t.y+o.y).resizeTo(o.getLength()/2),o=this.canvasContext,t=r.x,n=r.y,l=a.x,u=a.y,c=r.x+s.x,r=r.y+s.y,s=a.x,a=a.y;o.beginPath(),o.moveTo(t,n),o.bezierCurveTo(c,r,s,a,l,u)}else o=this.canvasContext,t=r.x,r=r.y,n=a.x,a=a.y,o.beginPath(),o.moveTo(t,r),o.lineTo(n,a);o.stroke()}}};a.prototype.resetCanvas=function(t){var e=this.canvas,i=this.settings,a=this.canvasContext,o=this.isCanvasEmulator,s=e.width,d=e.height;a.clearRect(0,0,s+30,d+30),a.shadowColor=a.fillStyle=i["background-color"],o&&a.fillRect(0,0,s+30,d+30),a.lineWidth=Math.ceil(parseInt(i.lineWidth,10)),a.lineCap=a.lineJoin="round",a.strokeStyle=i["decor-color"],a.shadowOffsetX=0,a.shadowOffsetY=0;var h=Math.round(d/5),f=1.5*h,p=d-h,s=s-1.5*h,d=d-h;a.beginPath(),a.moveTo(f,p),a.lineTo(s,d),a.stroke(),a.strokeStyle=i.color,o||(a.shadowColor=a.strokeStyle,a.shadowOffsetX=.5*a.lineWidth,a.shadowOffsetY=-.6*a.lineWidth,a.shadowBlur=0),t||(t=[]),a=this.dataEngine=new n(t,this,l,u,c),i.data=t,$(e).data(r+".data",t).data(r+".settings",i);var m=this.$parent,v=this.events,g=r;return a.changed=function(){v.publish(g+".change"),m.trigger("change")},a.changed(),!0},a.prototype.initializeCanvas=function(t){var e=document.createElement("canvas"),i=$(e);if(t.width===t.height&&"ratio"===t.height&&(t.width="100%"),i.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==t.height&&t.height?t.height.toString(10):1).css("width","ratio"!==t.width&&t.width?t.width.toString(10):1),i.appendTo(this.$parent),"ratio"===t.height?i.css("height",Math.round(i.width()/t.sizeRatio)):"ratio"===t.width&&i.css("width",Math.round(i.height()*t.sizeRatio)),i.addClass(r),e.width=i.width(),e.height=i.height(),t=e,t.getContext)t=!1;else{var i=t.ownerDocument.parentWindow,n=i.FlashCanvas?t.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!n)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(t=n.initElement(t),n=1,i&&i.screen&&i.screen.deviceXDPI&&i.screen.logicalXDPI&&(n=1*i.screen.deviceXDPI/i.screen.logicalXDPI),1!==n)try{$(t).children("object").get(0).resize(Math.ceil(t.width*n),Math.ceil(t.height*n)),t.getContext("2d").scale(n,n)}catch(a){}t=!0}return this.isCanvasEmulator=t,e.onselectstart=function(t){return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1},e};var d=window,h=function(t,e){var i=new Image,n=this;i.onload=function(){n.getContext("2d").drawImage(i,0,0,i.width<n.width?i.width:n.width,i.height<n.height?i.height:n.height)},i.src="data:"+e+","+t},f=function(t){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").resetCanvas(t),this},p=function(t,e){if(void 0!==e||"string"!=typeof t||"data:"!==t.substr(0,5)||(e=t.slice(5).split(",")[0],t=t.slice(6+e.length),e!==t)){var i=this.find("canvas."+r).add(this.filter("canvas."+r));if(!x.hasOwnProperty(e))throw Error(r+" is unable to find import plugin with for format '"+String(e)+"'");return 0!==i.length&&x[e].call(i[0],t,e,function(t){return function(){return t.resetCanvas.apply(t,arguments)}}(i.data(r+".this"))),this}},m=new s,v=r,g,y=function(){m.publish(v+".parentresized")};$(d).bind("resize."+v,function(){g&&clearTimeout(g),g=setTimeout(y,500)}).bind("mouseup."+v,function(){m.publish(v+".windowmouseup")});var k={},b={"default":function(){return this.toDataURL()},"native":function(t){return t},image:function(){var t=this.toDataURL();if("string"==typeof t&&4<t.length&&"data:"===t.slice(0,5)&&-1!==t.indexOf(",")){var e=t.indexOf(",");return[t.slice(5,e),t.substr(e+1)]}return[]}},x={"native":function(t,e,i){i(t)},image:h,"image/png;base64":h,"image/jpeg;base64":h,"image/jpg;base64":h},w={"export":b,"import":x,instance:k},C={init:function(t){return this.each(function(){var e,i=!1;for(e=this.parentNode;e&&!i;)i=e.body,e=e.parentNode;!i||new a(this,t,k)})},getSettings:function(){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").settings},clear:f,reset:f,addPlugin:function(t,e,i){return w.hasOwnProperty(t)&&(w[t][e]=i),this},listPlugins:function(t){var e=[];if(w.hasOwnProperty(t)){var t=w[t],i;for(i in t)t.hasOwnProperty(i)&&e.push(i)}return e},getData:function(t){var e=this.find("canvas."+r).add(this.filter("canvas."+r));return void 0===t&&(t="default"),0!==e.length&&b.hasOwnProperty(t)?b[t].call(e.get(0),e.data(r+".data")):void 0},importData:p,setData:p,globalEvents:function(){return m},events:function(){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").events}};$.fn[r]=function(t){return t&&"object"!=typeof t?"string"==typeof t&&C[t]?C[t].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(t)+" does not exist on jQuery."+r):C.init.apply(this,arguments)}}(),function(){$.fn.jSignature("addPlugin","instance","UndoButton",function(t){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[t]){var e=this.settings[t];"function"!=typeof e&&(e=function(){var t=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),e=t.width();return t.css("left",Math.round((this.canvas.width-e)/2)),e!==t.width()&&t.width(e),t});var i=e.call(this),n=this;n.events.subscribe("jSignature.change",function(){n.dataEngine.data.length?i.show():i.hide()});var a=this,r=(this.events.topics.hasOwnProperty("jSignature.undo")?t:"jSignature")+".undo";i.bind("click",function(){a.events.publish(r)}),a.events.subscribe(r,function(){var t=a.dataEngine.data;t.length&&(t.pop(),a.resetCanvas(t))})}})})}(),function(){for(var t={},e={},i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),n=i.length/2,a=n-1;a>-1;a--)t[i[a]]=i[a+n],e[i[a+n]]=i[a];var r=function(e){for(var e=e.split(""),i=e.length,n=1;i>n;n++)e[n]=t[e[n]];return e.join("")},o=function(t){for(var e=[],i=0,a=1,o=t.length,s,l,u=0;o>u;u++)s=Math.round(t[u]),l=s-i,i=s,0>l&&a>0?(a=-1,e.push("Z")):l>0&&0>a&&(a=1,e.push("Y")),s=Math.abs(l),s>=n?e.push(r(s.toString(n))):e.push(s.toString(n));return e.join("")},s=function(i){for(var a=[],i=i.split(""),r=i.length,o,s=1,l=[],u=0,c=0;r>c;c++)o=i[c],o in t||"Z"===o||"Y"===o?(0!==l.length&&(l=parseInt(l.join(""),n)*s+u,a.push(l),u=l),"Z"===o?(s=-1,l=[]):"Y"===o?(s=1,l=[]):l=[o]):l.push(e[o]);return a.push(parseInt(l.join(""),n)*s+u),a},l=function(t){for(var e=[],i=t.length,n,a=0;i>a;a++)n=t[a],e.push(o(n.x)),e.push(o(n.y));return e.join("_")},u=function(t){for(var e=[],t=t.split("_"),i=t.length/2,n=0;i>n;n++)e.push({x:s(t[2*n]),y:s(t[2*n+1])});return e},i=function(t){return["image/jsignature;base30",l(t)]},a=function(t,e,i){"string"==typeof t&&("image/jsignature;base30"===t.substring(0,23).toLowerCase()&&(t=t.substring(24)),i(u(t)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var c=this.jQuery.fn.jSignature;c("addPlugin","export","base30",i),c("addPlugin","export","image/jsignature;base30",i),c("addPlugin","import","base30",a),c("addPlugin","import","image/jsignature;base30",a),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:r,compressstrokeleg:o,uncompressstrokeleg:s,compressstrokes:l,uncompressstrokes:u,charmap:t})}.call("undefined"!=typeof window?window:this),function(){function t(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*i(this.y);else if(0===this.y)this._length=t,this.x=t*i(this.x);else{var e=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*n;this._length=t,this.x=n*i(this.x),this.y=e*i(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function e(e,i){this.x=e,this.y=i,this.getVectorToCoordinates=function(e,i){return new t(e-this.x,i-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function i(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}function n(n,a,r){var a=a+1,o=new e(n.x[a-1],n.y[a-1]),s=new e(n.x[a],n.y[a]),s=o.getVectorToPoint(s),l=new e(n.x[a-2],n.y[a-2]),o=l.getVectorToPoint(o);return o.getLength()>r?(r=a>2?new e(n.x[a-3],n.y[a-3]).getVectorToPoint(l):new t(0,0),n=.35*o.getLength(),l=o.angleTo(r.reverse()),a=s.angleTo(o.reverse()),r=new t(r.x+o.x,r.y+o.y).resizeTo(Math.max(.05,l)*n),s=new t(o.x+s.x,o.y+s.y).reverse().resizeTo(Math.max(.05,a)*n),s=new t(o.x+s.x,o.y+s.y),["c",i(r.x,2),i(r.y,2),i(s.x,2),i(s.y,2),i(o.x,2),i(o.y,2)]):["l",i(o.x,2),i(o.y,2)]}function a(n,a){var r=n.x.length-1,o=new e(n.x[r],n.y[r]),s=new e(n.x[r-1],n.y[r-1]),o=s.getVectorToPoint(o);if(r>1&&o.getLength()>a){var r=new e(n.x[r-2],n.y[r-2]).getVectorToPoint(s),s=o.angleTo(r.reverse()),l=.35*o.getLength(),r=new t(r.x+o.x,r.y+o.y).resizeTo(Math.max(.05,s)*l);return["c",i(r.x,2),i(r.y,2),i(o.x,2),i(o.y,2),i(o.x,2),i(o.y,2)]}return["l",i(o.x,2),i(o.y,2)]}function r(t,e,r){for(var e=["M",i(t.x[0]-e,2),i(t.y[0]-r,2)],r=1,o=t.x.length-1;o>r;r++)e.push.apply(e,n(t,r,1));return o>0?e.push.apply(e,a(t,r,1)):0===o&&e.push.apply(e,["l",1,1]),e.join(" ")}function o(t){var e=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],i,n=t.length,a,o=[],s=[],l=a=i=0,u=0,c=[];if(0!==n){for(i=0;n>i;i++){l=t[i],u=[],a={x:[],y:[]};for(var d=void 0,h=void 0,d=0,h=l.x.length;h>d;d++)u.push({x:l.x[d],y:l.y[d]});for(u=simplify(u,.7,!0),d=0,h=u.length;h>d;d++)a.x.push(u[d].x),a.y.push(u[d].y);c.push(a),o=o.concat(a.x),s=s.concat(a.y)}t=Math.min.apply(null,o)-1,n=Math.max.apply(null,o)+1,o=Math.min.apply(null,s)-1,s=Math.max.apply(null,s)+1,l=0>t?0:t,u=0>o?0:o,i=n-t,a=s-o}for(e.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+i.toString()+'" height="'+a.toString()+'">'),i=0,n=c.length;n>i;i++)a=c[i],e.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+r(a,l,u)+'"/>');
return e.push("</svg>"),e.join("")}function s(t){return[d,o(t)]}function l(t){return[h,c(o(t))]}var u=window;if(("undefined"!=typeof exports?exports:u).simplify=function(t,e,i){if(e=void 0!==e?e*e:1,!i){for(var n=t.length,a,r=t[0],o=[r],i=1;n>i;i++){a=t[i];var s=a.x-r.x,l=a.y-r.y;s*s+l*l>e&&(o.push(a),r=a)}r!==a&&o.push(a),t=o}a=t;var i=a.length,n=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(i),r=0,o=i-1,u,c,d=[],h=[],f=[];for(n[r]=n[o]=1;o;){for(l=0,s=r+1;o>s;s++){u=a[s];var p=a[r],m=a[o],v=p.x,g=p.y,p=m.x-v,y=m.y-g,k=void 0;(0!==p||0!==y)&&(k=((u.x-v)*p+(u.y-g)*y)/(p*p+y*y),k>1?(v=m.x,g=m.y):k>0&&(v+=p*k,g+=y*k)),p=u.x-v,y=u.y-g,u=p*p+y*y,u>l&&(c=s,l=u)}l>e&&(n[c]=1,d.push(r),h.push(c),d.push(c),h.push(o)),r=d.pop(),o=h.pop()}for(s=0;i>s;s++)n[s]&&f.push(a[s]);return t=f},"function"!=typeof c)var c=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),i,n,a,r,o=0,s=0,l="",l=[];do i=t.charCodeAt(o++),n=t.charCodeAt(o++),a=t.charCodeAt(o++),r=i<<16|n<<8|a,i=r>>18&63,n=r>>12&63,a=r>>6&63,r&=63,l[s++]=e[i]+e[n]+e[a]+e[r];while(o<t.length);return l=l.join(""),t=t.length%3,(t?l.slice(0,t-3):l)+"===".slice(t||3)};var d="image/svg+xml",h="image/svg+xml;base64";if("undefined"==typeof $)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");u=$.fn.jSignature,u("addPlugin","export","svg",s),u("addPlugin","export",d,s),u("addPlugin","export","svgbase64",l),u("addPlugin","export",h,l)}(),$$("#cta").form(),$$("#cta .step.calc").find(".fieldset").each(function(){var t=$(this);t.hasClass("input_text")&&t.on("keydown",function(){$$("#cta").formValidateCalcStep()}),t.hasClass("radio")&&t.children(".input-button").on("click",function(){$$("#cta").formValidateCalcStep()}),t.hasClass("range")&&t.find(".noUi-handle div").on("modified",function(){$$("#cta").formValidateCalcStep()})}),$$(".cta-form-terms-link").click(function(){openModal($$(".cta-form-terms-modal"))}),$$("#signature-pad").jSignature(),$$("#signature-pad").on("click mousedown mouseup touchstart touchmove",function(){$(this).parents(".fieldset").removeClass("error").addClass("valid")}),$$(".signature-clear").click(function(){$$("#signature-pad").jSignature("reset"),$(this).parents(".fieldset").addClass("error").removeClass("valid")}),inputMasking();