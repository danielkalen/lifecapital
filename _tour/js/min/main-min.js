function showErrors(){var e=0==$(".step.one .fieldset.input input").val(),t=!$(".choices.months .choice").hasClass("checked"),n=!$(".choices.credit .choice").hasClass("checked"),s="40,000"==$(".fieldset .range.volume .noUi-handle div").html(),o="80,000"==$(".fieldset .range.sales .noUi-handle div").html();$("form").addClass("error-show"),e?$(".step.one .fieldset.input").addClass("error"):$(".step.one .fieldset.input").removeClass("error"),t?$(".choices.months").addClass("error"):$(".choices.months").removeClass("error"),n?$(".choices.credit").addClass("error"):$(".choices.credit").removeClass("error"),s?$(".fieldset.range.volume").addClass("error"):$(".fieldset.range.volume").removeClass("error"),o?$(".fieldset.range.sales").addClass("error"):$(".fieldset.range.sales").removeClass("error")}function doCalculation(e){var t=Math.round(1.2*e),n=t.toString()+"000",s=parseInt(n),o=addCommas(s);return o}function termCalculation(){var e=$(".choices.credit .choice.checked");e.hasClass("first")&&$(".choices.terms").addClass("first"),e.hasClass("second")&&$(".choices.terms").addClass("second"),e.hasClass("third")&&$(".choices.terms").addClass("third")}function addCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function makeReady(){var e=$(".step.one .fieldset.input input").val(),t=$(".choices.months .choice").hasClass("checked"),n=$(".choices.credit .choice").hasClass("checked"),s="40,000"!=$(".fieldset .range.volume .noUi-handle div").html(),o="80,000"!=$(".fieldset .range.sales .noUi-handle div").html();e&&t&&n&&s&&o?$("form").addClass("ready"):0==e&&$("form").removeClass("ready")}function makeReadyCall(){var e=$(".fieldset.firstname input").val(),t=$(".fieldset.lastname input").val(),n=$(".fieldset.firstname input").hasClass("complete");e&&t&&n?$("form").addClass("ready"):0==$inputEmpty&&$("form").removeClass("ready")}function pathPrepare(e){var t=e[0].getTotalLength();e.css("stroke-dasharray",t),e.css("stroke-dashoffset",t)}function textPrepare(e){e.css("opacity",0),e.css("margin-left",30)}function stepPrepare(e){e.css("opacity",0),e.css("margin-top",-50)}function titlePrepare(e){e.css("opacity",0),e.css("top",-80)}jQuery(document).ready(function($){var e=$(window).height(),t=e-121;e>570?$(".hero").height(t):570>e&&$(".hero").height(690),$(window).on("resize",function(){var e=$(window).height(),t=e-121;e>570?$(".hero").height(t):570>e&&$(".hero").height(728)})}),$(".step.one .choice").click(function(){$(this).parents(".fieldset").removeClass("error"),$(this).siblings().removeClass("checked"),$(this).addClass("checked"),$(this).find(".radio").prop("checked",!0),makeReady()}),$(".choice-checkbox").click(function(){$(this).parents(".fieldset").removeClass("error"),$(this).hasClass("checked")?($(this).removeClass("checked"),$(this).find(".checkbox").prop("checked",!1)):($(this).addClass("checked"),$(this).find(".checkbox").prop("checked",!0))}),$(".fieldset.input input").blur(function(){$(this).parents(".fieldset").removeClass("error")}),$(".button.calculate").on("click.first",function(){var e='<span class="icon-gear"></span>',t='<span class="text">Calculating</span>',n=parseInt($(".fieldset .range.sales .noUi-handle div").html());$("form").hasClass("ready")?($("form").removeClass("error-show"),$(".button.calculate p").html(e),$(".button.calculate").addClass("active"),setTimeout(function(){$("form").addClass("one-exit")},400),setTimeout(function(){$(".button.calculate p").append(t),setTimeout(function(){$(".button.calculate p .text").animate({opacity:1},300)},500),$(".button.calculate p .icon-gear").addClass("move spin"),$(".step.two .number span").html(doCalculation(n)),termCalculation()},1800),setTimeout(function(){$(".button.calculate p .icon-gear").removeClass("spin")},6e3),setTimeout(function(){$("form").addClass("two-enter")},6500),setTimeout(function(){$(".button.calculate p").html("Apply Online"),$(".button.calculate").removeClass("active calculate").addClass("apply")},6900),setTimeout(function(){$("form").addClass("divide-buttons")},7900)):showErrors(),$(".button.call").click(function(){$("form").addClass("call"),setTimeout(function(){$("form").addClass("two-exit")},1e3),setTimeout(function(){$("form").addClass("three-enter")},2300),setTimeout(function(){$(".button.call").addClass("active")},3700)}),$(".button.apply").click(function(){$(this).addClass("active"),$("form").addClass("apply"),setTimeout(function(){$("form").addClass("two-exit")},1e3),setTimeout(function(){$("form").addClass("three-enter")},2300),setTimeout(function(){$(this).removeClass("active")},2700)})}),$(".story").click(function(){$(this).find(".md-modal").addClass("md-show").removeClass("hide"),$("body").addClass("modal-open")}),$(".md-overlay, .icon-cross").click(function(){$(".md-modal").removeClass("md-show").addClass("hide"),$("body").removeClass("modal-open")}),$(".fieldset .range.volume").noUiSlider({start:[4e4],step:1e3,range:{min:[0],max:[15e4]},format:wNumb({decimals:0,thousand:","})}),$(".fieldset .range.sales").noUiSlider({start:[8e4],step:1e3,range:{min:[0],max:[25e4]},format:wNumb({decimals:0,thousand:","})}),$(".fieldset .range.volume").Link("lower").to("-inline-"),$(".fieldset .range.sales").Link("lower").to("-inline-"),$(".step.one .fieldset.input input").change(function(){makeReady()}),$(".noUi-handle div").on("DOMSubtreeModified",function(){$(this).parents(".fieldset").removeClass("error"),makeReady();var e=parseInt($(".fieldset .range.volume .noUi-handle div").html()),t=parseInt($(".fieldset .range.sales .noUi-handle div").html());25>e?$("form").addClass("hide-start-volume"):e>25&&$("form").removeClass("hide-start-volume"),e>118?$("form").addClass("hide-end-volume"):118>e&&$("form").removeClass("hide-end-volume"),40>t?$("form").addClass("hide-start-sales"):t>40&&$("form").removeClass("hide-start-sales"),t>195?$("form").addClass("hide-end-sales"):195>t&&$("form").removeClass("hide-end-sales")});var $account=$(".svg-account path"),$underwriter=$(".svg-underwriter path"),$svgLine=$("#svg-line-1"),$circleOne=$("#svg-line-2, .possible li.sixth svg"),$circleTwo=$("#svg-line-3, .possible li.fifth svg"),$circleThree=$("#svg-line-4, .possible li.fourth svg"),$circleFour=$("#svg-line-5, .possible li.third svg"),$circleFive=$("#svg-line-6, .possible li.second svg"),$circleSix=$("#svg-line-7, .possible li.first svg"),$textOne=$(".possible li.sixth p"),$textTwo=$(".possible li.fifth p"),$textThree=$(".possible li.fourth p"),$textFour=$(".possible li.third p"),$textFive=$(".possible li.second p"),$textSix=$(".possible li.first p"),$coinsSVG=$(".svg-coins svg"),$stepApply=$(".steps .apply"),$stepApprove=$(".steps .approve"),$stepFund=$(".steps .fund"),$firstTitle=$(".section-one > .title");pathPrepare($account),pathPrepare($underwriter),pathPrepare($svgLine),pathPrepare($circleOne),pathPrepare($circleTwo),pathPrepare($circleThree),pathPrepare($circleFour),pathPrepare($circleFive),pathPrepare($circleSix),textPrepare($textOne),textPrepare($textTwo),textPrepare($textThree),textPrepare($textFour),textPrepare($textFive),textPrepare($textSix),stepPrepare($stepApply),stepPrepare($stepApprove),stepPrepare($stepFund),titlePrepare($firstTitle);var controller=new ScrollMagic,tween=(new TimelineMax).add(TweenMax.to($account,.1,{strokeDashoffset:0,ease:Linear.easeNone})),tween2=(new TimelineMax).add(TweenMax.to($underwriter,.1,{strokeDashoffset:0,ease:Linear.easeNone})),tween3=(new TimelineMax).add(TweenMax.to($svgLine,1,{strokeDashoffset:0,ease:Linear.easeNone})),tween4=(new TimelineMax).add(TweenMax.to($circleOne,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween5=(new TimelineMax).add(TweenMax.to($circleTwo,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween6=(new TimelineMax).add(TweenMax.to($circleThree,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween7=(new TimelineMax).add(TweenMax.to($circleFour,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween8=(new TimelineMax).add(TweenMax.to($circleFive,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween9=(new TimelineMax).add(TweenMax.to($circleSix,.5,{strokeDashoffset:0,ease:Linear.easeNone})),tween10=(new TimelineMax).add(TweenMax.to($textOne,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween11=(new TimelineMax).add(TweenMax.to($textTwo,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween12=(new TimelineMax).add(TweenMax.to($textThree,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween13=(new TimelineMax).add(TweenMax.to($textFour,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween14=(new TimelineMax).add(TweenMax.to($textFive,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween15=(new TimelineMax).add(TweenMax.to($textSix,.3,{opacity:1,margin:0,ease:Linear.easeNone})),tween16=(new TimelineMax).add(TweenMax.to($coinsSVG,.1,{top:235,ease:Linear.easeNone})),tween17=(new TimelineMax).add(TweenMax.to($stepApply,.1,{opacity:1,margin:0,ease:Linear.easeNone})),tween18=(new TimelineMax).add(TweenMax.to($stepApprove,.1,{opacity:1,margin:0,ease:Linear.easeNone})),tween19=(new TimelineMax).add(TweenMax.to($stepFund,.1,{opacity:1,margin:0,ease:Linear.easeNone})),tween20=(new TimelineMax).add(TweenMax.to($firstTitle,.1,{opacity:1,top:0,ease:Linear.easeNone})),scene=new ScrollScene({triggerElement:".svg-account",duration:1e3,tweenChanges:!0,offset:50,triggerHook:1}).setTween(tween).addTo(controller),scene2=new ScrollScene({triggerElement:".svg-underwriter",duration:2400,tweenChanges:!0,offset:150,triggerHook:1}).setTween(tween2).addTo(controller),scene3=new ScrollScene({triggerElement:".possible li.first",duration:600,tweenChanges:!0,offset:100,triggerHook:1}).setTween(tween3).addTo(controller),scene4=new ScrollScene({triggerElement:"#svg-line-2",duration:600,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween4).addTo(controller),scene5=new ScrollScene({triggerElement:"#svg-line-3",duration:600,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween5).addTo(controller),scene6=new ScrollScene({triggerElement:"#svg-line-4",duration:600,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween6).addTo(controller),scene7=new ScrollScene({triggerElement:"#svg-line-5",duration:600,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween7).addTo(controller),scene8=new ScrollScene({triggerElement:"#svg-line-6",duration:600,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween8).addTo(controller),scene9=new ScrollScene({triggerElement:"#svg-line-7",duration:200,tweenChanges:!0,offset:125,triggerHook:1}).setTween(tween9).addTo(controller),scene10=new ScrollScene({triggerElement:"#svg-line-2",duration:200,tweenChanges:!0,offset:230,triggerHook:1}).setTween(tween10).addTo(controller),scene11=new ScrollScene({triggerElement:"#svg-line-3",duration:200,tweenChanges:!0,offset:210,triggerHook:1}).setTween(tween11).addTo(controller),scene12=new ScrollScene({triggerElement:"#svg-line-4",duration:200,tweenChanges:!0,offset:190,triggerHook:1}).setTween(tween12).addTo(controller),scene13=new ScrollScene({triggerElement:"#svg-line-5",duration:200,tweenChanges:!0,offset:170,triggerHook:1}).setTween(tween13).addTo(controller),scene14=new ScrollScene({triggerElement:"#svg-line-6",duration:200,tweenChanges:!0,offset:150,triggerHook:1}).setTween(tween14).addTo(controller),scene15=new ScrollScene({triggerElement:"#svg-line-7",duration:200,tweenChanges:!0,offset:130,triggerHook:1}).setTween(tween15).addTo(controller),scene16=new ScrollScene({triggerElement:".svg-coins",duration:1300,tweenChanges:!0,offset:200,triggerHook:1}).setTween(tween16).addTo(controller),scene17=new ScrollScene({triggerElement:".steps",duration:100,tweenChanges:!0,offset:300,triggerHook:1}).setTween(tween17).addTo(controller),scene18=new ScrollScene({triggerElement:".steps",duration:100,tweenChanges:!0,offset:500,triggerHook:1}).setTween(tween18).addTo(controller),scene19=new ScrollScene({triggerElement:".steps",duration:100,tweenChanges:!0,offset:700,triggerHook:1}).setTween(tween19).addTo(controller),scene20=new ScrollScene({triggerElement:".section-one",duration:200,offset:200,triggerHook:1}).setTween(tween20).addTo(controller);jQuery(window).load(function(){jQuery("#joyride-list").joyride({autoStart:!0,tipLocation:"bottom",nubPosition:"auto",scrollSpeed:900,timer:0,startTimerOnClick:!0,nextButton:!0,tipAnimation:"pop",tipAnimationFadeSpeed:300})});